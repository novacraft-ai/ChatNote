.login-button{display:flex;align-items:center;gap:8px;padding:8px 16px;border-radius:8px;font-size:14px;font-weight:500;transition:all .2s;border:none;cursor:pointer}.login-button-group{display:flex;align-items:center;gap:8px}.login-button.retry{background:#6c757d;color:#fff;padding:8px 12px;font-size:13px}.login-button.retry:hover{background:#5a6268;transform:translateY(-1px)}.login-button.sign-in{background:#4285f4;color:#fff}.login-button.sign-in:hover:not(:disabled){background:#357ae8;transform:translateY(-1px)}.login-button.sign-in:disabled{opacity:.6;cursor:not-allowed}.login-button.sign-in.error{background:#dc3545;color:#fff}.login-button.sign-in.error:hover{background:#c82333}.login-button.loading{background:transparent;color:inherit;cursor:default}.login-button.user-info{background:transparent;padding:4px 8px;gap:8px}.user-avatar{width:32px;height:32px;border-radius:50%;background:linear-gradient(135deg,#667eea,#764ba2);display:flex;align-items:center;justify-content:center;overflow:hidden;flex-shrink:0}.user-avatar img{width:100%;height:100%;object-fit:cover}.user-avatar span{color:#fff;font-weight:600;font-size:14px}.user-details{display:flex;flex-direction:column;align-items:flex-start;gap:2px}.user-name{font-size:13px;font-weight:500;color:#333;max-width:150px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;transition:color .3s}[data-theme=dark] .user-name{color:#ececf1}.user-role{font-size:11px;color:#10a37f;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.logout-button{background:transparent;border:none;cursor:pointer;padding:4px;display:flex;align-items:center;justify-content:center;color:#333;opacity:.7;transition:opacity .2s,color .3s,background .2s;border-radius:4px}.logout-button:disabled{opacity:.5;cursor:wait}[data-theme=dark] .logout-button{color:#ececf1}.logout-button:hover:not(:disabled){opacity:1;background:#0000000d}[data-theme=dark] .logout-button:hover:not(:disabled){background:#ffffff1a}@media(max-width:768px){.user-details{display:none}.login-button.user-info{padding:4px}}.button-text-mobile{display:none}@media(max-width:600px){.button-text-desktop{display:none}.button-text-mobile{display:block}}.api-key-settings{padding:20px;max-width:600px;margin:0 auto}.api-key-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}.api-key-header h3{margin:0;font-size:18px;font-weight:600}.api-key-status-badge{background:#10a37f;color:#fff;padding:4px 12px;border-radius:12px;font-size:12px;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.api-key-description{color:inherit;opacity:.8;margin-bottom:16px;font-size:14px;line-height:1.5}.api-key-info.admin{display:flex;align-items:flex-start;gap:12px;padding:16px;background:#10a37f1a;border-radius:8px;border:1px solid rgba(16,163,127,.2)}.api-key-info.admin svg{color:#10a37f;flex-shrink:0;margin-top:2px}.api-key-info.admin .api-key-title{font-weight:600;margin:0 0 4px;font-size:15px}.api-key-info.admin .api-key-description{margin:0;font-size:13px}.api-key-info.free-trial{display:flex;align-items:flex-start;gap:12px;padding:16px;background:#4285f41a;border-radius:8px;border:1px solid rgba(66,133,244,.2);margin-bottom:16px}.api-key-info.free-trial svg{color:#4285f4;flex-shrink:0;margin-top:2px}.api-key-info.free-trial .api-key-title{font-weight:600;margin:0 0 4px;font-size:15px;color:#4285f4}.api-key-info.free-trial .api-key-description{margin:0 0 8px;font-size:13px}.api-key-info.warning{display:flex;align-items:flex-start;gap:12px;padding:16px;background:#fb923c1a;border-radius:8px;border:1px solid rgba(251,146,60,.2);margin-bottom:16px}.api-key-info.warning svg{color:#fb923c;flex-shrink:0;margin-top:2px}.api-key-info.warning .api-key-title{font-weight:600;margin:0 0 4px;font-size:15px;color:#fb923c}.api-key-info.warning .api-key-description{margin:0;font-size:13px}.free-trial-progress{width:100%;height:6px;background:#4285f433;border-radius:3px;overflow:hidden}.free-trial-progress-bar{height:100%;background:#4285f4;border-radius:3px;transition:width .3s ease}.api-key-input-group{display:flex;gap:8px;margin-bottom:12px}.api-key-input{flex:1;padding:10px 14px;border:1px solid rgba(0,0,0,.2);border-radius:6px;font-size:14px;font-family:Monaco,Menlo,monospace;background:inherit;color:inherit}[data-theme=dark] .api-key-input{border-color:#fff3}.api-key-input:focus{outline:none;border-color:#4285f4;box-shadow:0 0 0 3px #4285f41a}.api-key-input:disabled{opacity:.6;cursor:not-allowed}.api-key-save-button{padding:10px 20px;background:#4285f4;color:#fff;border:none;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:background .2s;white-space:nowrap}.api-key-save-button:hover:not(:disabled){background:#357ae8}.api-key-save-button:disabled{opacity:.6;cursor:not-allowed}.api-key-message{padding:12px;border-radius:6px;margin-bottom:12px;font-size:14px}.api-key-message.success{background:#10a37f1a;color:#10a37f;border:1px solid rgba(16,163,127,.2)}.api-key-message.error{background:#ef44441a;color:#ef4444;border:1px solid rgba(239,68,68,.2)}.api-key-help{margin-top:24px;padding:16px;background:#00000008;border-radius:8px}[data-theme=dark] .api-key-help{background:#ffffff08}.api-key-help p{margin:0 0 12px;font-size:14px}.api-key-help ol{margin:0 0 12px;padding-left:20px}.api-key-help li{margin-bottom:8px;font-size:14px;line-height:1.5}.api-key-help a{color:#4285f4;text-decoration:none}.api-key-help a:hover{text-decoration:underline}.api-key-security-note{margin-top:12px;padding-top:12px;border-top:1px solid rgba(0,0,0,.1);font-size:13px;opacity:.8}[data-theme=dark] .api-key-security-note{border-top-color:#ffffff1a}.navbar{height:60px;background-color:#fff;border-bottom:1px solid #e0e0e0;display:flex;align-items:center;padding:0 24px;flex-shrink:0;transition:background-color .3s,border-color .3s}[data-theme=dark] .navbar{background-color:#1a1a1a;border-bottom-color:#333}.navbar-content{width:100%;display:flex;align-items:center;justify-content:space-between;position:relative;min-height:40px;gap:8px}.navbar-content>.history-toggle:first-child{margin-right:8px}@media(max-width:768px){.navbar{padding:0 12px}.navbar-content{gap:4px}.navbar-content>.history-toggle:first-child{margin-right:4px}}.navbar-title{display:flex;align-items:center;gap:8px;margin:0;position:absolute;left:50%;transform:translate(-50%);max-width:calc(100% - 200px);white-space:nowrap;overflow:hidden}@media(max-width:768px){.navbar-title{max-width:calc(100% - 120px)}.title-text{font-size:18px}.title-for{font-size:16px}.ucla-logo{height:28px}.mode-indicator,.mode-separator{display:none}}@media(max-width:480px){.navbar-title{gap:4px}.title-for,.ucla-logo{display:none}.mode-separator{margin:0 2px}}.mode-separator{color:#ccc;font-size:10px;margin:0 4px}[data-theme=dark] .mode-separator{color:#555}.mode-indicator{display:inline-flex;align-items:center;gap:4px;font-size:10px;font-weight:600;padding:3px 8px;border-radius:10px;border:none;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;box-shadow:0 1px 3px #667eea33;position:relative;overflow:hidden;height:20px}.mode-indicator:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.15),transparent);transition:left .5s}.mode-indicator:hover:before{left:100%}.mode-indicator:hover{transform:translateY(-1px) scale(1.01);box-shadow:0 2px 8px #667eea59}.mode-indicator:active{transform:translateY(0) scale(.98)}.mode-icon{display:flex;align-items:center;justify-content:center;margin-top:1px}.mode-icon svg{width:10px;height:10px}.mode-text{font-size:10px;letter-spacing:.1px;font-weight:600;line-height:1}.mode-change-icon{opacity:.6;transition:transform .3s ease,opacity .3s ease;width:8px;height:8px}.mode-indicator:hover .mode-change-icon{transform:translate(1px);opacity:.9}.title-text{font-size:20px;font-weight:600;color:#333;transition:color .3s;position:relative;background:linear-gradient(90deg,#333 0% 40%,#66b3ff 50%,#333 60% 100%);background-size:200% 100%;background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent;animation:lightWave 4.5s linear 3;animation-fill-mode:forwards}.title-text.animation-complete{background:none!important;background-clip:initial!important;-webkit-background-clip:initial!important;-webkit-text-fill-color:initial!important;color:inherit!important;transition:color .5s}[data-theme=dark] .title-text.animation-complete{color:#ececf1!important;-webkit-text-fill-color:#ececf1!important}[data-theme=light] .title-text.animation-complete{color:#333!important;-webkit-text-fill-color:#333!important}.title-for{font-size:18px;font-style:italic;color:#666;font-weight:400;transition:color .3s;position:relative;background:linear-gradient(90deg,#666 0% 40%,#9cf 50%,#666 60% 100%);background-size:200% 100%;background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent;animation:lightWave 4.5s linear 3;animation-delay:.2s;animation-fill-mode:forwards}.title-for.animation-complete{background:none!important;background-clip:initial!important;-webkit-background-clip:initial!important;-webkit-text-fill-color:#666!important;color:#666!important;transition:color .5s}.ucla-logo{height:32px;width:auto;display:block;transition:opacity .3s;animation:logoGlow 4.5s linear 3,fadeLogoToNormal 1s ease-out 13.9s forwards;animation-delay:.4s,0s}@keyframes lightWave{0%{background-position:200% 0}to{background-position:-200% 0}}@keyframes logoGlow{0%,to{filter:brightness(1)}50%{filter:brightness(1.3) drop-shadow(0 0 8px rgba(102,179,255,.5))}}@keyframes fadeToNormal{0%{background:linear-gradient(90deg,#333 0% 40%,#66b3ff 50%,#333 60% 100%);background-size:200% 100%;background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent}to{background:none;-webkit-text-fill-color:#333}}@keyframes fadeLogoToNormal{0%{filter:brightness(1)}to{filter:brightness(1)}}.title-text.animation-complete{animation:none;background:none;-webkit-text-fill-color:#333}.title-for.animation-complete{animation:none;background:none;-webkit-text-fill-color:#666}.ucla-logo.animation-complete{animation:none;filter:brightness(1)}[data-theme=dark] .title-text{color:#ececf1;background:linear-gradient(90deg,#ececf1 0% 40%,#66b3ff 50%,#ececf1 60% 100%);background-size:200% 100%;background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent}[data-theme=dark] .title-for{color:#999;background:linear-gradient(90deg,#999 0% 40%,#8cf 50%,#999 60% 100%);background-size:200% 100%;background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent}[data-theme=dark] .ucla-logo{opacity:.9}[data-theme=dark] .title-text.animation-complete{-webkit-text-fill-color:#ececf1}[data-theme=dark] .title-for.animation-complete{-webkit-text-fill-color:#999}@keyframes fadeToNormalDark{0%{background:linear-gradient(90deg,#ececf1 0% 40%,#66b3ff 50%,#ececf1 60% 100%);background-size:200% 100%;background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent}to{background:none;-webkit-text-fill-color:#ececf1}}@media(prefers-reduced-motion:reduce){.title-text,.title-for,.ucla-logo{animation:none}.title-text{background:#333;-webkit-text-fill-color:#333}.title-for{background:#666;-webkit-text-fill-color:#666}[data-theme=dark] .title-text{background:#ececf1;-webkit-text-fill-color:#ececf1}[data-theme=dark] .title-for{background:#999;-webkit-text-fill-color:#999}}.navbar-actions{display:flex;align-items:center;gap:8px;margin-left:auto}.history-toggle,.theme-toggle,.settings-toggle,.chat-toggle{width:40px;height:40px;display:flex;align-items:center;justify-content:center;background-color:transparent;border:none;border-radius:8px;cursor:pointer;color:#333;transition:background .2s;padding:0;flex-shrink:0}@media(max-width:768px){.history-toggle,.theme-toggle,.settings-toggle,.chat-toggle{width:36px;height:36px}.history-toggle svg,.theme-toggle svg,.settings-toggle svg,.chat-toggle svg{width:18px;height:18px}}.history-toggle:hover,.theme-toggle:hover,.settings-toggle:hover,.chat-toggle:hover{background-color:#00000014;transform:scale(1.05)}[data-theme=dark] .history-toggle,[data-theme=dark] .theme-toggle,[data-theme=dark] .settings-toggle,[data-theme=dark] .chat-toggle{border:none;color:#ececf1}[data-theme=dark] .history-toggle:hover,[data-theme=dark] .theme-toggle:hover,[data-theme=dark] .settings-toggle:hover,[data-theme=dark] .chat-toggle:hover{background-color:#ffffff1f;border-color:none}.settings-modal-overlay{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:10020;padding:20px}.settings-modal{background:#fff;border-radius:12px;max-width:700px;width:100%;max-height:90vh;overflow-y:auto;box-shadow:0 20px 60px #0000004d;animation:modalSlideIn .2s ease-out}.settings-modal::-webkit-scrollbar{width:12px}.settings-modal::-webkit-scrollbar-track{background:#f1f1f1;border-radius:0 12px 12px 0}.settings-modal::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:6px;border:2px solid #f1f1f1}.settings-modal::-webkit-scrollbar-thumb:hover{background:#a8a8a8}[data-theme=dark] .settings-modal{background:#1a1a1a;color:#ececf1}[data-theme=dark] .settings-modal::-webkit-scrollbar-track{background:#2a2a2a}[data-theme=dark] .settings-modal::-webkit-scrollbar-thumb{background:#4a4a4a;border-color:#2a2a2a}[data-theme=dark] .settings-modal::-webkit-scrollbar-thumb:hover{background:#5a5a5a}@keyframes modalSlideIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.settings-modal-header{display:flex;align-items:center;justify-content:space-between;padding:20px 24px;border-bottom:1px solid #e0e0e0}[data-theme=dark] .settings-modal-header{border-bottom-color:#333}.settings-modal-header h2{margin:0;font-size:20px;font-weight:600}.settings-modal-close{width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:transparent;border:none;border-radius:6px;cursor:pointer;color:inherit;transition:background .2s;padding:0}.settings-modal-close:hover{background:#0000000d}[data-theme=dark] .settings-modal-close:hover{background:#ffffff1a}.settings-modal-content{padding:24px}.navbar-actions-desktop{display:flex;gap:8px}.mobile-menu-toggle{display:none;width:40px;height:40px;align-items:center;justify-content:center;background:transparent;border:none;border-radius:8px;cursor:pointer;color:#333;transition:background .2s,color .2s;padding:0;margin-left:8px}[data-theme=dark] .mobile-menu-toggle{color:#ececf1}.mobile-menu-toggle:hover{background:#0000000d;color:#000}[data-theme=dark] .mobile-menu-toggle:hover{background:#ffffff1a;color:#fff}.mobile-menu{display:none;position:absolute;top:100%;right:0;background:#fff;border:1px solid #e0e0e0;border-radius:8px;box-shadow:0 4px 12px #0000001a;min-width:200px;z-index:1000;margin-top:8px;overflow:hidden;transform-origin:top right;animation:menuFadeIn .15s ease-out}[data-theme=dark] .mobile-menu{background:#2a2a2a;border-color:#444;box-shadow:0 4px 12px #0006}@keyframes menuFadeIn{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.mobile-menu-item{width:100%;display:flex;align-items:center;gap:12px;padding:12px 16px;background:transparent;border:none;cursor:pointer;color:#333;font-size:14px;text-align:left;transition:background .2s,color .2s;border-bottom:1px solid rgba(0,0,0,.05)}[data-theme=dark] .mobile-menu-item{color:#ececf1;border-bottom-color:#ffffff0d}.mobile-menu-item:last-child{border-bottom:none}.mobile-menu-item:hover:not(:disabled){background:#667eea1a;color:#667eea}[data-theme=dark] .mobile-menu-item:hover:not(:disabled){background:#667eea26;color:#818cf8}.mobile-menu-item:disabled{opacity:.5;cursor:not-allowed}.mobile-menu-item svg{flex-shrink:0;transition:color .2s}.mobile-menu-mode{gap:8px;align-items:center}.mobile-mode-text{display:flex;flex-direction:column;line-height:1.2}.mobile-mode-label{font-size:12px;opacity:.7}.mobile-mode-value{font-size:14px;font-weight:600}@media(max-width:768px){.navbar-actions-desktop{display:none}.mobile-menu-toggle{display:flex}.mobile-menu{display:block}}@media(max-width:768px){.navbar .mode-indicator,.navbar .mode-separator{display:none!important}}.model-mode-toggle-wrapper{display:flex;align-items:center;gap:8px}.model-mode-toggle{position:relative;width:80px;height:24px;background:#c8c8c866;border-radius:12px;cursor:pointer;-webkit-user-select:none;user-select:none;overflow:hidden;padding:2px;transition:background-color .3s ease}.theme-light .model-mode-toggle{background:#c8c8c880}.theme-dark .model-mode-toggle{background:#78787866}.model-mode-toggle.disabled{opacity:.5;cursor:not-allowed}.model-mode-toggle.dragging{cursor:grabbing}.model-mode-toggle-track{position:relative;width:100%;height:100%}.model-mode-toggle-button{position:absolute;left:0;top:0;width:20px;height:20px;background:#fff;border:1px solid rgba(0,0,0,.1);border-radius:10px;box-shadow:0 1px 3px #0003;pointer-events:none;z-index:1}.theme-light .model-mode-toggle-button,.theme-dark .model-mode-toggle-button{background:#fff;border-color:#0000001a}.model-mode-toggle.auto,.theme-light .model-mode-toggle.auto,.theme-dark .model-mode-toggle.auto{background:#3b82f6}.model-mode-toggle.auto .model-mode-toggle-button{border-color:#3b82f633}.model-mode-toggle.thinking,.theme-light .model-mode-toggle.thinking,.theme-dark .model-mode-toggle.thinking{background:#8b5cf6}.model-mode-toggle.thinking .model-mode-toggle-button{border-color:#8b5cf633}.model-mode-toggle.quick,.theme-light .model-mode-toggle.quick,.theme-dark .model-mode-toggle.quick{background:#10b981}.model-mode-toggle.quick .model-mode-toggle-button{border-color:#10b98133}.model-mode-toggle-label{font-size:13px;font-weight:500;color:var(--text-color, #333333);white-space:nowrap;-webkit-user-select:none;user-select:none}.theme-light .model-mode-toggle-label{color:#333}.theme-dark .model-mode-toggle-label{color:#fff}.model-mode-info-icon-wrapper{position:relative;display:flex;align-items:center;cursor:help}.model-mode-info-icon{color:#999;transition:color .2s ease}.model-mode-info-icon:hover{color:#666}.theme-dark .model-mode-info-icon{color:#888}.theme-dark .model-mode-info-icon:hover{color:#aaa}.model-mode-tooltip{position:absolute;bottom:calc(100% + 8px);left:50%;transform:translate(-50%);background-color:#2a2a2a;color:#fff;padding:8px 12px;border-radius:6px;font-size:12px;line-height:1.4;white-space:nowrap;box-shadow:0 2px 8px #0003;z-index:10015;pointer-events:none;animation:tooltip-fade-in .2s ease-out}.model-mode-tooltip:after{content:"";position:absolute;top:100%;left:50%;transform:translate(-50%);border:5px solid transparent;border-top-color:#2a2a2a}.theme-light .model-mode-tooltip{background-color:#333}.theme-light .model-mode-tooltip:after{border-top-color:#333}@keyframes tooltip-fade-in{0%{opacity:0;transform:translate(-50%) translateY(4px)}to{opacity:1;transform:translate(-50%) translateY(0)}}.floating-chat .model-selector-bar .model-mode-toggle-container,.floating-chat .model-selector-bar .header-actions,.floating-chat .model-selector-bar .image-upload-button,.split-chat .model-selector-bar .model-mode-toggle-container,.split-chat .model-selector-bar .header-actions{background:transparent!important;border:none!important;box-shadow:none!important}.chatgpt-wrapper{position:relative;display:flex;flex-direction:column;width:100%;overflow:visible}@media(max-width:768px){.split-chat .split-footer{bottom:12px}}.quiz-loading{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;padding:3rem;gap:1.5rem}.quiz-loading-spinner{width:60px;height:60px;border:4px solid rgba(102,126,234,.1);border-top-color:#667eea;border-radius:50%;animation:quiz-spin 1s cubic-bezier(.4,0,.2,1) infinite}@keyframes quiz-spin{to{transform:rotate(360deg)}}.quiz-loading p{font-size:1.1rem;color:#667eea;font-weight:500;animation:quiz-pulse 2s ease-in-out infinite}[data-theme=dark] .quiz-loading p{color:#818cf8}@keyframes quiz-pulse{0%,to{opacity:.6}50%{opacity:1}}.split-chat .chatgpt-wrapper,.floating-chat .chatgpt-wrapper{overflow:visible!important}.chatgpt-inner{display:flex;flex-direction:column;max-height:600px;height:auto;border-radius:8px;overflow:hidden;transition:max-height .4s cubic-bezier(.4,0,.2,1),color .3s ease,background .3s ease,border-radius .4s cubic-bezier(.4,0,.2,1),box-shadow .3s ease;position:relative;width:100%;background:#0000004d;backdrop-filter:blur(20px) saturate(180%);-webkit-backdrop-filter:blur(20px) saturate(180%);box-shadow:0 4px 12px #0000001a}.split-chat .chatgpt-inner,.floating-chat .chatgpt-inner{overflow:visible!important}.chatgpt-inner.collapsed{max-height:none}.split-chat .chatgpt-inner{max-height:100%;height:100%;border-radius:0;overflow:visible;transition:max-height .4s cubic-bezier(.4,0,.2,1),background .3s ease,border-radius .4s cubic-bezier(.4,0,.2,1),box-shadow .3s ease}.split-chat .chatgpt-wrapper{height:100%;display:flex;flex-direction:column}.split-chat .chatgpt-inner{flex:1;display:flex;flex-direction:column;overflow:visible;min-height:0;height:100%;position:relative;z-index:1}.split-chat .api-key-warning-split-top{flex-shrink:0;flex-grow:0;order:0}.split-chat .model-selector-bar{flex-shrink:0;flex-grow:0;order:2;position:relative;z-index:10002;overflow:visible!important;margin-top:0;margin-bottom:0;border-radius:0;padding:8px 20px}.split-chat .model-selector-dropdown{bottom:calc(100% + 8px)!important;top:auto!important;left:0!important;width:auto!important;min-width:200px!important;max-width:280px!important;animation:slideUp .2s ease-out!important}.split-chat .selected-text-banner{flex-shrink:0;order:3;margin-left:20px;margin-right:20px;width:calc(100% - 40px);padding:10px 20px}.split-chat .chatgpt-messages{flex:1 1 0;overflow-y:auto;overflow-x:hidden;min-height:0;max-height:none!important;order:4;display:flex;flex-direction:column;position:relative;z-index:1;margin-top:16px;scrollbar-width:thin;scrollbar-color:rgba(0,0,0,.2) transparent}.split-chat .chatgpt-messages::-webkit-scrollbar{width:8px}.split-chat .chatgpt-messages::-webkit-scrollbar-track{background:transparent}.split-chat .chatgpt-messages::-webkit-scrollbar-thumb{background:#0003;border-radius:4px}.split-chat .chatgpt-messages::-webkit-scrollbar-thumb:hover{background:#0000004d}.split-chat .theme-dark .chatgpt-messages{scrollbar-color:rgba(255,255,255,.2) transparent}.split-chat .theme-dark .chatgpt-messages::-webkit-scrollbar-thumb{background:#fff3}.split-chat .theme-dark .chatgpt-messages::-webkit-scrollbar-thumb:hover{background:#ffffff4d}@media(max-width:1024px){.split-chat .chatgpt-messages{min-height:250px;flex:1 1 auto;margin-top:8px}}.split-chat .chatgpt-input-container{flex-shrink:0;flex-grow:0;order:5;position:relative;z-index:1;overflow:visible;margin-top:0;padding-top:0}.split-chat .chatgpt-inner.theme-light{background:#fffffff2;backdrop-filter:blur(10px) saturate(180%);-webkit-backdrop-filter:blur(10px) saturate(180%);color:#1a1a1a;box-shadow:none}.split-chat .chatgpt-inner.theme-dark{background:#202123f2;backdrop-filter:blur(10px) saturate(180%);-webkit-backdrop-filter:blur(10px) saturate(180%);color:#ececf1;box-shadow:none}.split-chat .model-selector-bar.theme-light{background:#fffffff2;box-shadow:none;border-bottom:none}.split-chat .model-selector-bar.theme-dark{background:#202123f2;box-shadow:none;border-bottom:none}.split-chat .theme-light .model-selector-text,.split-chat .theme-light .welcome-screen h3{color:#1a1a1a}.split-chat .theme-light .welcome-screen p{color:#2a2a2a}.split-chat .theme-light .message-content,.split-chat .theme-light .markdown-content,.split-chat .theme-light .markdown-content h1,.split-chat .theme-light .markdown-content h2,.split-chat .theme-light .markdown-content h3,.split-chat .theme-light .markdown-content h4,.split-chat .theme-light .markdown-content h5,.split-chat .theme-light .markdown-content h6{color:#1a1a1a}.split-chat .theme-dark .markdown-content,.split-chat .theme-dark .markdown-content h1,.split-chat .theme-dark .markdown-content h2,.split-chat .theme-dark .markdown-content h3,.split-chat .theme-dark .markdown-content h4,.split-chat .theme-dark .markdown-content h5,.split-chat .theme-dark .markdown-content h6{color:#ececf1}.split-chat .theme-light .chatgpt-input{color:#1a1a1a}.split-chat .theme-light .chatgpt-input::placeholder{color:#666;opacity:.7}.split-chat .theme-light .clear-button,.split-chat .theme-light .collapse-button,.split-chat .theme-light .layout-toggle-button{background:#fffc;border-color:#d0d0d0cc;color:#1a1a1a}.split-chat .theme-light .clear-button:hover,.split-chat .theme-light .collapse-button:hover,.split-chat .theme-light .layout-toggle-button:hover{background:#fffffff2;border-color:#d0d0d0;color:#1a1a1a}.split-chat .theme-light .send-button{color:#1a1a1a}.split-chat .theme-light .send-button:hover:not(:disabled){background-color:#0000000d;color:#1a1a1a}.chatgpt-inner.theme-light{background:#00000040;backdrop-filter:blur(20px) saturate(180%);-webkit-backdrop-filter:blur(20px) saturate(180%);color:#fff;box-shadow:0 4px 12px #0000001a;--message-bg: #ffffff;--user-message-bg: #f7f7f8;--text-primary: #1f1f1f;--text-muted: #4b5563;--code-bg: #f6f8fa;--code-border: #e5e7eb;--bubble-shadow: 0 8px 24px rgba(0, 0, 0, .06);--btn-bg: #f2f2f2;--btn-bg-hover: #e9e9e9;--btn-bg-active: #dcdcdc;--btn-border: #e0e0e0;--btn-border-hover: #d3d3d3;--btn-text: #111;--btn-disabled-opacity: .45;--btn-primary-bg: #0b66ff;--btn-primary-bg-hover: #005cf0;--btn-primary-bg-active: #004bcc;--btn-primary-border: #0057e0;--btn-primary-text: #fff}.chatgpt-inner.theme-dark{background:#0006;backdrop-filter:blur(20px) saturate(180%);-webkit-backdrop-filter:blur(20px) saturate(180%);color:#ececf1;box-shadow:0 4px 12px #0000004d;--message-bg: #2a2a2a;--user-message-bg: #343541;--text-primary: #ededed;--text-muted: #b5b8c3;--code-bg: #1e1e1e;--code-border: #2f2f2f;--bubble-shadow: 0 10px 30px rgba(0, 0, 0, .45);--btn-bg: #333;--btn-bg-hover: #3d3d3d;--btn-bg-active: #2f2f2f;--btn-border: #444;--btn-border-hover: #555;--btn-text: #f5f5f5;--btn-disabled-opacity: .45;--btn-primary-bg: #0b66ff;--btn-primary-bg-hover: #005cf0;--btn-primary-bg-active: #004bcc;--btn-primary-border: #0057e0;--btn-primary-text: #fff}.chatgpt-header{padding:16px 20px;flex-shrink:0;transition:background-color .3s,border-color .3s;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);position:relative;z-index:1}.theme-light .chatgpt-header{background:#f8f9fa99;border-bottom:1px solid rgba(224,224,224,.5)}.theme-dark .chatgpt-header{background:#20212399;border-bottom:1px solid rgba(74,74,74,.5)}.header-content{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}.chat-panel-header{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:6px 12px;background:#fffffff2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-bottom:1px solid rgba(0,0,0,.1);min-height:40px;flex-shrink:0;order:0;z-index:200}[data-theme=dark] .chat-panel-header{background:#202123f2;border-bottom-color:#ffffff1a}.chat-panel-header.theme-light{background:#fffffff2;border-bottom:1px solid rgba(0,0,0,.1);color:#1a1a1a}.chat-panel-header.theme-dark{background:#202123f2;border-bottom:1px solid rgba(255,255,255,.1);color:#ececf1}.chat-panel-header.theme-light .chat-panel-title{color:#666}.chat-panel-header.theme-dark .chat-panel-title{color:#b5b8c3}.chat-panel-header.theme-light .close-chat-button{border-color:#00000026;color:#1a1a1a}.chat-panel-header.theme-dark .close-chat-button{border-color:#ffffff26;color:#ececf1}.chat-panel-title{font-size:.875rem;font-weight:500;color:inherit;opacity:.8;flex:1;min-width:0}.chat-panel-header-actions{display:flex;align-items:center;gap:8px;flex-shrink:0}.chat-panel-header .clear-button{display:inline-flex;align-items:center;gap:6px;padding:4px 8px;background:transparent;border:1px solid rgba(0,0,0,.1);border-radius:4px;font-size:.875rem;cursor:pointer;transition:all .2s;color:inherit}[data-theme=dark] .chat-panel-header .clear-button{border-color:#ffffff1a}.chat-panel-header .clear-button:hover:not(:disabled){background:#0000000d;border-color:#0003}[data-theme=dark] .chat-panel-header .clear-button:hover:not(:disabled){background:#ffffff0d;border-color:#fff3}.chat-panel-header .clear-button.confirming{background:#dc26261a;border-color:#dc26264d;color:#dc2626}.chat-panel-header .clear-button:disabled{opacity:.5;cursor:not-allowed}.chat-panel-header .close-chat-button{display:inline-flex;align-items:center;justify-content:center;width:32px;height:32px;padding:6px;background:transparent;border:none;border-radius:8px;cursor:pointer;transition:background .15s ease;color:inherit;flex-shrink:0}.chat-panel-header .close-chat-button:hover{background:#00000014}[data-theme=dark] .chat-panel-header .close-chat-button:hover{background:#ffffff1f}.model-selector-bar{display:flex;align-items:center;justify-content:space-between;gap:8px;flex-wrap:wrap;padding:8px 12px;background:#0000004d;backdrop-filter:blur(20px) saturate(180%);-webkit-backdrop-filter:blur(20px) saturate(180%);border-radius:8px;margin-bottom:8px;box-shadow:0 4px 12px #0000001a;min-height:40px;width:100%;overflow:visible!important;position:relative}.floating-chat .model-selector-bar{padding:8px 20px;z-index:10004;position:relative}@media(min-width:769px){.floating-chat .model-selector-bar.theme-light,.floating-chat .model-selector-bar.theme-dark,.floating-chat .model-selector-bar .model-mode-toggle-container,.floating-chat .model-selector-bar .header-actions,.floating-chat .model-selector-bar .image-upload-button{background:transparent;border:none;box-shadow:none}.floating-chat .model-selector-bar .header-actions button,.floating-chat .model-selector-bar .header-actions .notes-toggle-button,.floating-chat .model-selector-bar .header-actions .collapse-button{background:transparent;border:none;transition:background .2s}.floating-chat .model-selector-bar .header-actions button:hover:not(:disabled),.floating-chat .model-selector-bar .header-actions .notes-toggle-button:hover:not(:disabled),.floating-chat .model-selector-bar .header-actions .collapse-button:hover:not(:disabled){background:#ffffff26}}@media(max-width:768px){.floating-chat .model-selector-bar{flex-direction:column;align-items:stretch;gap:16px;border-radius:18px;padding:14px;background:#111928b3;border:1px solid rgba(255,255,255,.08);box-shadow:0 12px 30px #00000040}.floating-chat .model-selector-wrapper{width:100%;flex-direction:column;align-items:stretch;gap:12px}.floating-chat .model-mode-toggle-container{width:100%;justify-content:space-between;padding:10px 12px;border-radius:16px;background:#ffffff0f;border:1px solid rgba(255,255,255,.08)}.floating-chat .header-actions{width:100%;display:grid;grid-template-columns:repeat(auto-fit,minmax(92px,1fr));gap:10px;align-self:stretch;padding:10px;border-radius:16px;background:#ffffff08;border:1px solid rgba(255,255,255,.06)}.floating-chat .header-actions button,.floating-chat .header-actions .notes-toggle-button,.floating-chat .header-actions .collapse-button{width:100%;justify-content:center;padding:8px;min-height:44px;height:44px;border-radius:14px}.floating-chat .header-actions svg{margin:0 auto}.floating-chat .image-upload-button{width:100%;min-height:44px;height:44px;justify-content:center;border-radius:14px}.floating-chat .chatgpt-inner{width:100%}.floating-chat .chatgpt-messages,.floating-chat .chatgpt-input-container,.floating-chat .pdf-context-toggle-container,.floating-chat .model-selector-wrapper{width:100%;padding-left:0;padding-right:0;box-sizing:border-box}.floating-chat .clear-button{padding:6px;gap:0}.floating-chat .clear-button:hover{padding:6px}.floating-chat .clear-button .clear-button-text,.floating-chat .clear-button:hover .clear-button-text{display:none}}.theme-light .model-selector-bar{background:#00000040;box-shadow:0 4px 12px #0000001a}.theme-dark .model-selector-bar{background:#0006;box-shadow:0 4px 12px #0000004d}.model-selector-bar.theme-light{background:#f8fafcf2;border:1px solid rgba(15,23,42,.08);box-shadow:0 10px 25px #0f172a14;color:#0f172a}.model-selector-bar.theme-dark{background:#111928d1;border:1px solid rgba(255,255,255,.08);box-shadow:0 12px 30px #00000073;color:#f8fafc}.floating-chat .model-selector-bar.theme-light{background:#00000040;border:1px solid rgba(255,255,255,.35);box-shadow:0 4px 16px #0003;color:#f8fafc}.floating-chat .model-selector-bar.theme-dark{background:#0006;border:1px solid rgba(255,255,255,.18);box-shadow:0 6px 18px #00000059;color:#ececf1}.model-selector-bar.theme-light .model-mode-toggle-container,.model-selector-bar.theme-light .header-actions,.model-selector-bar.theme-light .image-upload-button{background:#ffffffeb;border:1px solid rgba(15,23,42,.06);color:#0f172a}.model-selector-bar.theme-dark .model-mode-toggle-container,.model-selector-bar.theme-dark .header-actions,.model-selector-bar.theme-dark .image-upload-button{background:#ffffff0f;border:1px solid rgba(255,255,255,.08);color:#f8fafc}.floating-chat .model-selector-bar.theme-light .model-mode-toggle-container,.floating-chat .model-selector-bar.theme-light .header-actions,.floating-chat .model-selector-bar.theme-light .image-upload-button{background:transparent;border:none;color:#1a1a1a}.floating-chat .model-selector-bar.theme-dark .model-mode-toggle-container,.floating-chat .model-selector-bar.theme-dark .header-actions,.floating-chat .model-selector-bar.theme-dark .image-upload-button{background:transparent;border:none;color:#fff}.model-selector-bar.theme-light .header-actions button,.model-selector-bar.theme-light .header-actions .notes-toggle-button,.model-selector-bar.theme-light .header-actions .collapse-button,.model-selector-bar.theme-light .image-upload-button{background:transparent;border:none;color:#0f172a}.model-selector-bar.theme-dark .header-actions button,.model-selector-bar.theme-dark .header-actions .notes-toggle-button,.model-selector-bar.theme-dark .header-actions .collapse-button,.model-selector-bar.theme-dark .image-upload-button{background:transparent;border:none;color:#f8fafc}.model-selector-bar.theme-light .header-actions button:hover,.model-selector-bar.theme-light .header-actions .notes-toggle-button:hover,.model-selector-bar.theme-light .header-actions .collapse-button:hover,.model-selector-bar.theme-light .image-upload-button:hover{background:#00000014}.model-selector-bar.theme-dark .header-actions button:hover,.model-selector-bar.theme-dark .header-actions .notes-toggle-button:hover,.model-selector-bar.theme-dark .header-actions .collapse-button:hover,.model-selector-bar.theme-dark .image-upload-button:hover{background:#ffffff1f}.floating-chat .model-selector-bar.theme-light .header-actions button,.floating-chat .model-selector-bar.theme-light .header-actions .notes-toggle-button,.floating-chat .model-selector-bar.theme-light .header-actions .collapse-button,.floating-chat .model-selector-bar.theme-light .image-upload-button{background:transparent;border:none;color:#1a1a1a}.floating-chat .model-selector-bar.theme-light .header-actions button:hover,.floating-chat .model-selector-bar.theme-light .header-actions .notes-toggle-button:hover,.floating-chat .model-selector-bar.theme-light .header-actions .collapse-button:hover,.floating-chat .model-selector-bar.theme-light .image-upload-button:hover{background:#00000014}.floating-chat .model-selector-bar.theme-dark .header-actions button,.floating-chat .model-selector-bar.theme-dark .header-actions .notes-toggle-button,.floating-chat .model-selector-bar.theme-dark .header-actions .collapse-button,.floating-chat .model-selector-bar.theme-dark .image-upload-button{background:transparent;border:none;color:#fff}.floating-chat .model-selector-bar.theme-dark .header-actions button:hover,.floating-chat .model-selector-bar.theme-dark .header-actions .notes-toggle-button:hover,.floating-chat .model-selector-bar.theme-dark .header-actions .collapse-button:hover,.floating-chat .model-selector-bar.theme-dark .image-upload-button:hover{background:#ffffff1f}.header-actions{display:flex;align-items:center;gap:8px;flex-wrap:wrap}.model-selector-wrapper{position:relative;z-index:10003;overflow:visible!important;display:flex;align-items:center;gap:8px;flex:1}.model-mode-toggle-container{display:flex;align-items:center;gap:8px;flex:1;position:relative}.split-chat .model-selector-wrapper{position:relative!important;z-index:10003!important;overflow:visible!important}.chatgpt-header,.header-actions{overflow:visible!important}.model-selector-bar .model-selector-button{display:flex;align-items:center;gap:6px;padding:6px 12px;background:#fff3;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border:1px solid;border-radius:6px;cursor:pointer;transition:all .2s;font-size:13px;white-space:nowrap;height:28px;box-sizing:border-box}.model-selector-dropdown-button{display:flex;align-items:center;justify-content:center;padding:4px;background:#ffffff1a;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border:1px solid;border-radius:4px;cursor:pointer;transition:all .2s;width:24px;height:24px;box-sizing:border-box;flex-shrink:0}.theme-light .model-selector-dropdown-button{background:#ffffff1a;border-color:#ffffff4d;color:#fff}.theme-light .model-selector-dropdown-button:hover:not(:disabled){background:#fff3}.theme-dark .model-selector-dropdown-button{background:#ffffff0d;border-color:#fff3;color:#ececf1}.theme-dark .model-selector-dropdown-button:hover:not(:disabled){background:#ffffff1a}.model-selector-dropdown-button:disabled{opacity:.5;cursor:not-allowed}.theme-light .model-selector-button{background:#ffffff26;border-color:#ffffff4d;color:#fff}.theme-light .model-selector-button:hover:not(:disabled){background:#ffffff40;border-color:#fff6;color:#fff}.split-chat .theme-light .model-selector-button{background:#fffc;border-color:#d0d0d0cc;color:#1a1a1a}.split-chat .theme-light .model-selector-button:hover:not(:disabled){background:#fffffff2;border-color:#d0d0d0;color:#1a1a1a}.theme-dark .model-selector-button{background:#40414f99;border-color:#56586980;color:#fff}.theme-dark .model-selector-button:hover:not(:disabled){background:#40414fcc;border-color:#565869b3;color:#fff}.model-selector-button:disabled{opacity:.5;cursor:not-allowed}.model-selector-text{font-weight:600;font-size:14px}.theme-light .model-selector-text,.theme-dark .model-selector-text{color:#fff}.response-mode-button{display:flex;align-items:center;gap:0;padding:6px;background:#fff3;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border:1px solid;border-radius:6px;cursor:pointer;transition:all .2s;font-size:13px;white-space:nowrap;flex-shrink:0;min-width:28px;height:28px;box-sizing:border-box;justify-content:center}.response-mode-button:hover{padding:6px 12px;gap:4px;height:28px}.theme-light .response-mode-button{background:#ffffff26;border-color:#ffffff4d;color:#fff}.theme-light .response-mode-button:hover:not(:disabled){background:#ffffff40;border-color:#fff6;color:#fff}.split-chat .theme-light .response-mode-button{background:#fffc;border-color:#d0d0d0cc;color:#1a1a1a}.split-chat .theme-light .response-mode-button:hover:not(:disabled){background:#fffffff2;border-color:#d0d0d0;color:#1a1a1a}.theme-dark .response-mode-button{background:#40414f99;border-color:#56586980;color:#fff}.theme-dark .response-mode-button:hover:not(:disabled){background:#40414fcc;border-color:#565869b3;color:#fff}.response-mode-button:disabled{opacity:.5;cursor:not-allowed}.response-mode-icon{font-size:16px;display:inline-block}.response-mode-text{font-weight:600;font-size:14px;opacity:0;width:0;overflow:hidden;transition:opacity .2s ease,width .2s ease;white-space:nowrap}.response-mode-button:hover .response-mode-text{opacity:1;width:auto}@media(max-width:768px){.floating-chat .response-mode-button:hover .response-mode-text,.floating-chat .image-upload-button:hover .image-upload-text{opacity:0;width:0}}.theme-light .response-mode-text,.theme-dark .response-mode-text{color:#fff}.split-chat .theme-light .response-mode-text{color:#1a1a1a}.image-upload-button{display:inline-flex;align-items:center;justify-content:center;padding:4px;background:transparent;border:none;border-radius:6px;cursor:pointer;transition:background .2s;font-size:13px;white-space:nowrap;flex-shrink:0;min-width:24px;height:24px;box-sizing:border-box;position:relative}.image-upload-button:hover:not(:disabled){background:var(--btn-bg-hover)}.theme-light .image-upload-button{color:#1a1a1a}.theme-light .image-upload-button:hover:not(:disabled){background:#00000014}.theme-dark .image-upload-button{color:#fff}.theme-dark .image-upload-button:hover:not(:disabled){background:#ffffff1f}.image-upload-button:disabled{opacity:.5;cursor:not-allowed}.image-upload-text{display:none}.image-upload-button svg{flex-shrink:0}.uploaded-images-preview-wrapper{position:relative;display:flex;align-items:center;border-bottom:1px solid rgba(255,255,255,.1)}.uploaded-images-preview{display:flex;gap:8px;padding:8px;overflow-x:auto;overflow-y:hidden;scroll-behavior:smooth;flex:1;scrollbar-width:none;-ms-overflow-style:none}.uploaded-images-preview::-webkit-scrollbar{display:none}.image-preview-item{position:relative;width:60px;height:60px;border-radius:6px;overflow:hidden;border:1px solid rgba(255,255,255,.2);flex-shrink:0}.theme-light .image-preview-item{border-color:#ffffff4d}.theme-dark .image-preview-item{border-color:#56586980}.image-preview-item img{width:100%;height:100%;object-fit:cover}.image-preview-remove{position:absolute;top:4px;right:4px;width:20px;height:20px;border-radius:50%;background:#0009;color:#fff;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:16px;line-height:1;transition:background .2s}.image-preview-remove:hover{background:#000c}.image-scroll-button{position:absolute;top:50%;transform:translateY(-50%);width:32px;height:32px;border-radius:50%;background:#0009;border:1px solid rgba(255,255,255,.2);color:#fff;cursor:pointer;display:flex;align-items:center;justify-content:center;z-index:10;transition:all .2s ease;flex-shrink:0}.image-scroll-button:hover{background:#000c;border-color:#fff6}.image-scroll-left{left:4px}.image-scroll-right{right:4px}.theme-light .uploaded-images-preview-wrapper{border-bottom-color:#fff3}.theme-dark .uploaded-images-preview-wrapper{border-bottom-color:#5658694d}.user-message-content{display:flex;flex-direction:column;gap:8px}.message-text{word-wrap:break-word;white-space:pre-wrap;line-height:1.5;font-size:14px;transition:color .3s;color:var(--text-primary)}.theme-light .message-text,.theme-dark .message-text{color:var(--text-primary)}.message-images-wrapper{position:relative;display:flex;align-items:center;margin-top:8px;margin-bottom:4px}.message-images-container{display:flex;gap:8px;overflow-x:auto;overflow-y:hidden;scroll-behavior:smooth;flex:1;scrollbar-width:none;-ms-overflow-style:none}.message-images-container::-webkit-scrollbar{display:none}.message-image-item{flex-shrink:0}.message-image{max-width:100%;border-radius:6px;overflow:visible;position:relative}.message-image-wrapper{position:relative;display:inline-block;max-width:80px;cursor:pointer}.message-image img{max-width:80px;height:auto;display:block;border-radius:6px;transition:transform .2s ease}.message-image-enlarged-container{width:100%;margin-top:8px;margin-bottom:4px}.message-image.enlarged{position:relative;max-width:100%}.message-image.enlarged .message-image-wrapper{max-width:min(600px,100%);max-height:70vh;position:relative;transition:max-width .3s ease,max-height .3s ease}.message-image.enlarged .message-image-wrapper img{max-width:min(600px,100%);max-height:70vh;width:auto;height:auto;object-fit:contain;display:block;transition:max-width .3s ease,max-height .3s ease}.message-image-scroll-button{position:absolute;top:50%;transform:translateY(-50%);width:32px;height:32px;border-radius:50%;background:#0009;border:1px solid rgba(255,255,255,.2);color:#fff;cursor:pointer;display:flex;align-items:center;justify-content:center;z-index:10;transition:all .2s ease;flex-shrink:0}.message-image-scroll-button:hover{background:#000c;border-color:#fff6}.message-image-scroll-left{left:4px}.message-image-scroll-right{right:4px}.image-magnifier{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background:#0009;border-radius:50%;width:24px;height:24px;display:flex;align-items:center;justify-content:center;cursor:pointer;opacity:0;transition:opacity .2s ease,background .2s ease,transform .2s ease;z-index:10;color:#fff}.message-image-wrapper:hover .image-magnifier{opacity:1}.image-magnifier:hover{background:#000c}.image-magnifier svg{width:14px;height:14px}.model-selector-dropdown{position:absolute;bottom:calc(100% + 8px);left:0;width:auto;min-width:200px;max-width:280px;max-height:200px!important;background:#fffffff2;backdrop-filter:blur(20px) saturate(180%);-webkit-backdrop-filter:blur(20px) saturate(180%);border:1px solid;z-index:10003!important;border-radius:12px;box-shadow:0 8px 32px #0003,0 0 0 1px #ffffff80 inset;overflow-y:auto!important;overflow-x:hidden!important;-webkit-overflow-scrolling:touch;animation:slideUp .2s ease-out;display:block!important;box-sizing:border-box;scrollbar-width:thin;scrollbar-color:rgba(0,0,0,.3) transparent}.floating-chat .model-selector-dropdown{z-index:10005!important}.model-selector-dropdown::-webkit-scrollbar{width:6px}.model-selector-dropdown::-webkit-scrollbar-track{background:transparent}.model-selector-dropdown::-webkit-scrollbar-thumb{background:#0000004d;border-radius:3px}.model-selector-dropdown::-webkit-scrollbar-thumb:hover{background:#00000080}.theme-dark .model-selector-dropdown::-webkit-scrollbar-thumb{background:#ffffff4d}.theme-dark .model-selector-dropdown::-webkit-scrollbar-thumb:hover{background:#ffffff80}.theme-light .model-selector-dropdown{background:#fffffff2;border-color:#d0d0d080;box-shadow:0 8px 32px #0000001a,0 0 0 1px #ffffff80 inset}.theme-dark .model-selector-dropdown{background:#343541f2;border-color:#ffffff1a;box-shadow:0 8px 32px #0000004d,0 0 0 1px #ffffff1a inset}@keyframes slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}@keyframes slideUp{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.model-option{display:flex;align-items:center;justify-content:space-between;width:100%;padding:12px 16px;background:transparent;border:none;cursor:pointer;transition:all .2s;text-align:left;border-bottom:1px solid;flex-shrink:0;min-height:48px;box-sizing:border-box}.model-option:last-child{border-bottom:none;margin-bottom:0;padding-bottom:16px}.theme-light .model-option{color:#333;border-bottom-color:#e0e0e080}.theme-light .model-option:hover{background:#f8f9facc}.theme-light .model-option.selected{background:#10a37f1a;color:#10a37f}.theme-dark .model-option{color:#ececf1;border-bottom-color:#4a4a4a80}.theme-dark .model-option:hover{background:#40414f99}.theme-dark .model-option.selected{background:#10a37f33;color:#10a37f}.model-option-content{display:flex;flex-direction:column;gap:4px;flex:1}.model-option-name-wrapper{display:flex;align-items:center;gap:6px}.model-option-name{font-weight:500;font-size:14px}.model-option-vision-icon{opacity:.7;flex-shrink:0}.model-option:hover .model-option-vision-icon,.model-option.selected .model-option-vision-icon{opacity:1}.model-option-provider{font-size:12px;opacity:.7}.chatgpt-header h2{font-size:18px;font-weight:600;margin:0;transition:color .3s}.theme-light .chatgpt-header h2{color:#333}.theme-dark .chatgpt-header h2{color:#ececf1}.clear-button{padding:6px 10px;background:transparent;border:none;border-radius:8px;font-size:14px;font-weight:500;color:var(--btn-text);cursor:pointer;transition:background .15s ease,transform .12s ease;display:inline-flex;align-items:center;justify-content:center;gap:6px;min-width:32px;height:32px;box-sizing:border-box;position:relative}.clear-button:hover{background:var(--btn-bg-hover)}.clear-button.confirming{background-color:#f44!important;color:#fff!important;border-color:#f44!important;padding:6px 12px;gap:4px}.clear-button.confirming:hover{background-color:#c00!important;border-color:#c00!important}.clear-button.confirming .clear-button-text{opacity:1;width:auto}.clear-button-text{display:none}.collapse-button{padding:6px 10px;background:transparent;border:none;border-radius:8px;font-size:14px;font-weight:500;color:var(--btn-text);cursor:pointer;transition:background .15s ease,transform .12s ease;display:inline-flex;align-items:center;justify-content:center;position:relative}.collapse-button:hover{background:var(--btn-bg-hover)}.notes-toggle-button{padding:6px 10px;background:transparent;border:none;border-radius:8px;font-size:14px;font-weight:500;color:var(--btn-text);cursor:pointer;transition:background .15s ease,transform .12s ease;display:inline-flex;align-items:center;justify-content:center;gap:6px;min-width:32px;height:32px;box-sizing:border-box;position:relative}.notes-toggle-button:hover{background:var(--btn-bg-hover)}.notes-toggle-button svg,.notes-toggle-button:hover svg{width:16px!important;height:16px!important;transform:none!important}.theme-light .notes-toggle-button{background:transparent;border:none;color:var(--btn-text)}.theme-light .notes-toggle-button:hover:not(:disabled){background:var(--btn-bg-hover);color:var(--btn-text)}.theme-dark .notes-toggle-button{background:transparent;border:none;color:var(--btn-text)}.theme-dark .notes-toggle-button:hover:not(:disabled){background:var(--btn-bg-hover);color:var(--btn-text)}.split-chat .theme-light .notes-toggle-button{background:transparent;border:none;color:var(--btn-text)}.split-chat .theme-light .notes-toggle-button:hover:not(:disabled){background:var(--btn-bg-hover);color:var(--btn-text)}.layout-toggle-button{padding:6px;width:32px;height:32px;background:transparent;border:none;border-radius:8px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background .15s ease,transform .12s ease;position:relative}.layout-toggle-button:hover{background:var(--btn-bg-hover)}.collapse-button{padding:6px;width:32px;height:32px}.theme-light .clear-button,.theme-light .collapse-button,.theme-light .layout-toggle-button{background:transparent;border:none;color:var(--btn-text)}.theme-light .clear-button:hover,.theme-light .collapse-button:hover,.theme-light .layout-toggle-button:hover{background:var(--btn-bg-hover);color:var(--btn-text)}.theme-dark .clear-button,.theme-dark .collapse-button,.theme-dark .layout-toggle-button{background:transparent;border:none;color:var(--btn-text)}.theme-dark .clear-button:hover,.theme-dark .collapse-button:hover,.theme-dark .layout-toggle-button:hover{background:var(--btn-bg-hover);color:var(--btn-text)}.api-key-warning-outer{display:flex;flex-direction:row;align-items:center;justify-content:space-between;gap:12px;padding:12px 16px;background-color:#f59e0b;color:#1f2937;border-radius:8px;font-size:13px;margin-bottom:8px;box-shadow:0 4px 12px #f59e0b4d;border:none}.api-key-warning-outer .warning-content{display:flex;flex-direction:column;gap:4px;flex:1}.api-key-warning-split{display:flex;flex-direction:column;gap:4px;padding:12px 16px;background-color:#f59e0b;color:#1f2937;border-radius:8px;font-size:13px;margin-bottom:8px;box-shadow:0 4px 12px #f59e0b4d;border:none}.api-key-warning-split-top{display:flex;flex-direction:row;align-items:center;justify-content:space-between;gap:12px;padding:12px 16px;background-color:#f59e0b;color:#1f2937;border-radius:8px;font-size:13px;margin-bottom:8px;box-shadow:0 4px 12px #f59e0b4d;border:none;flex-shrink:0;width:100%}.api-key-warning-split-top .warning-content{display:flex;flex-direction:column;gap:4px;flex:1}.api-key-warning-floating{display:flex;flex-direction:row;align-items:center;justify-content:space-between;gap:12px;padding:12px 16px;background-color:#f59e0b;color:#1f2937;border-radius:8px;font-size:13px;margin:8px;box-shadow:0 4px 12px #f59e0b4d;border:none;flex-shrink:0;width:calc(100% - 16px);position:sticky;top:8px;z-index:10}.api-key-warning-floating .warning-content{display:flex;flex-direction:column;gap:4px;flex:1}.api-key-warning{display:flex;flex-direction:column;gap:4px;padding:12px;background-color:#f59e0b;color:#1f2937;border-radius:6px;font-size:13px;margin-top:8px}.warning-hint{font-size:11px;opacity:.8}.api-key-refresh-button{background:#fff3;border:1px solid rgba(255,255,255,.3);border-radius:6px;padding:6px;cursor:pointer;display:flex;align-items:center;justify-content:center;color:#1f2937;transition:all .2s ease;flex-shrink:0;width:28px;height:28px}.api-key-refresh-button:hover{background:#ffffff4d;border-color:#ffffff80;transform:rotate(90deg)}.api-key-refresh-button:active{transform:rotate(180deg);background:#fff6}.api-key-refresh-button svg{width:16px;height:16px;transition:transform .2s ease}.selected-text-banner{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:10px 20px;background-color:#10a37f;border-radius:6px;margin-top:8px;margin-left:20px;margin-right:20px;font-size:13px;order:0;width:calc(100% - 40px);box-sizing:border-box}.banner-text{flex:1;color:#fff}.banner-buttons{display:flex;align-items:center;gap:8px}.use-text-button{padding:4px 12px;background-color:#fff3;color:#fff;border:1px solid rgba(255,255,255,.3);border-radius:4px;font-size:12px;cursor:pointer;transition:background-color .2s}.use-text-button:hover{background-color:#ffffff4d}.close-text-button{padding:4px;background-color:#fff3;color:#fff;border:1px solid rgba(255,255,255,.3);border-radius:4px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background-color .2s;flex-shrink:0;width:24px;height:24px}.close-text-button:hover{background-color:#ffffff4d}.close-text-button svg{width:14px;height:14px}.pdf-context-container{margin-top:8px;border-top:1px solid rgba(0,0,0,.1);padding-top:8px}.theme-dark .pdf-context-container{border-top-color:#ffffff1a}.pdf-context-toggle{display:flex;align-items:center;gap:8px;padding:0;background:none;border:none;cursor:pointer;color:#0009;font-size:13px;transition:color .2s;width:100%;text-align:left}.theme-dark .pdf-context-toggle{color:#fff9}.pdf-context-toggle:hover{color:#000c}.theme-dark .pdf-context-toggle:hover{color:#fffc}.pdf-context-toggle svg{flex-shrink:0;transition:transform .2s}.pdf-context-content{margin-top:8px;padding-top:8px;border-left:2px solid rgba(0,0,0,.1);padding-left:12px;margin-left:24px}.theme-dark .pdf-context-content{border-left-color:#ffffff1a}.pdf-context-content .message-text{color:var(--text-muted);font-size:13px;line-height:1.5;white-space:pre-wrap;word-wrap:break-word}.theme-dark .pdf-context-content .message-text{color:var(--text-muted)}.chatgpt-messages{flex:1;overflow-y:auto;padding:20px 0;display:flex;flex-direction:column;max-height:400px;min-height:200px;order:1!important;position:relative}.welcome-screen{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;text-align:center;min-height:200px}.welcome-icon{margin-bottom:24px;opacity:.6}.welcome-screen h3{font-size:24px;font-weight:600;margin:0 0 12px;transition:color .3s}.theme-light .welcome-screen h3{color:#fff}.theme-dark .welcome-screen h3{color:#ececf1}.welcome-screen p{font-size:15px;margin:0;max-width:500px;transition:color .3s}.theme-light .welcome-screen p{color:#e0e0e0}.theme-dark .welcome-screen p{color:#8e8ea0}.floating-chat .theme-dark .welcome-screen p{color:#b0b0b0}.message{display:flex;gap:14px;padding:16px 18px;animation:fadeIn .3s ease;width:100%;max-width:760px;margin:0 auto 12px;border-radius:12px;box-shadow:var(--bubble-shadow);align-items:flex-start}.theme-light .message-user{background-color:var(--user-message-bg);border:1px solid var(--code-border);color:var(--text-primary)}.theme-light .message-assistant{background-color:var(--message-bg);border:1px solid var(--code-border);color:var(--text-primary)}.theme-dark .message-user{background-color:var(--user-message-bg);border:1px solid var(--code-border);color:var(--text-primary)}.theme-dark .message-assistant{background-color:var(--message-bg);border:1px solid var(--code-border);color:var(--text-primary)}.floating-chat .theme-light .message-user,.floating-chat .theme-light .message-assistant{background-color:#fffffff0;border:1px solid var(--code-border);border-radius:12px}.floating-chat .theme-dark .message-user,.floating-chat .theme-dark .message-assistant{background-color:#2a2a2ae6;border:1px solid var(--code-border);border-radius:12px;box-shadow:var(--bubble-shadow)}.floating-chat .chatgpt-messages{background:transparent;padding-left:16px;padding-right:16px;margin-right:16px;border-right:2px solid rgba(255,255,255,.15);overflow-y:auto;overflow-x:hidden;scrollbar-width:thin;scrollbar-color:rgba(0,0,0,.2) transparent}.floating-chat .chatgpt-messages::-webkit-scrollbar{width:8px}.floating-chat .chatgpt-messages::-webkit-scrollbar-track{background:transparent}.floating-chat .chatgpt-messages::-webkit-scrollbar-thumb{background:#0003;border-radius:4px}.floating-chat .chatgpt-messages::-webkit-scrollbar-thumb:hover{background:#0000004d}.floating-chat .theme-dark .chatgpt-messages{scrollbar-color:rgba(255,255,255,.2) transparent}.floating-chat .theme-dark .chatgpt-messages::-webkit-scrollbar-thumb{background:#fff3}.floating-chat .theme-dark .chatgpt-messages::-webkit-scrollbar-thumb:hover{background:#ffffff4d}.message-avatar{flex-shrink:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center}.avatar-user{width:32px;height:32px;border-radius:4px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:14px;flex-shrink:0;overflow:hidden;position:relative}.avatar-user img{width:100%;height:100%;border-radius:4px;object-fit:cover;display:block}.avatar-user .avatar-fallback{width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;font-weight:600;font-size:14px}.avatar-assistant{width:32px;height:32px;border-radius:4px;background-color:transparent;color:#fff;display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.avatar-assistant .assistant-avatar-img{width:100%;height:100%;border-radius:4px;object-fit:cover;padding:0;display:block}.avatar-assistant .avatar-fallback-svg{width:32px;height:32px;color:#fff}.message-content-wrapper{flex:1;min-width:0;display:flex;flex-direction:column}.message-actions{display:flex;gap:8px;margin-top:8px;padding-top:8px;border-top:1px solid rgba(255,255,255,.1)}.message-citations{margin:16px 0 10px;padding:14px 16px;border-radius:14px;border:1px solid rgba(99,102,241,.25);background:linear-gradient(135deg,#6366f114,#6366f105);color:inherit;box-shadow:0 8px 24px #0f172a14;transition:background .2s ease,border-color .2s ease}.message-citations.expanded{padding-bottom:18px}.message-citations-header{display:flex;justify-content:space-between;align-items:center;gap:12px;margin-bottom:4px}.message-citations-label{font-weight:600;font-size:.78rem;text-transform:uppercase;letter-spacing:.4px;margin-bottom:12px;display:inline-flex;align-items:center;gap:6px;color:#4f46e5}.message-citations-label:before{content:"";width:12px;height:12px;border-radius:4px;background:linear-gradient(135deg,#818cf8,#6366f1);opacity:.7}.message-citations-toggle{all:unset;display:inline-flex;align-items:center;gap:8px;font-size:.78rem;font-weight:600;text-transform:uppercase;letter-spacing:.05em;color:#4f46e5;cursor:pointer;margin-bottom:6px}.message-citations-toggle svg{stroke:currentColor}.message-citations-count{font-size:.75rem;color:#475569cc;font-weight:500;text-transform:uppercase;letter-spacing:.04em}.message-citations-list{list-style:none;padding-left:0;margin:0;display:flex;flex-direction:column;gap:12px;font-size:.85rem}.message-citations-list li{display:flex;align-items:flex-start;gap:12px;padding:12px 14px;border-radius:12px;background:#ffffffd1;border:1px solid rgba(148,163,184,.3);font-size:.85rem;line-height:1.45;transition:transform .2s ease,box-shadow .2s ease}.message-citations-list li:before{content:none}.browser-source-referenced{border-color:#6366f173;box-shadow:0 0 0 1px #6366f11a}.browser-source-index{width:32px;height:32px;border-radius:10px;background:#6366f11f;color:#4f46e5;font-weight:600;display:flex;align-items:center;justify-content:center;flex-shrink:0}.browser-source-body{flex:1;min-width:0;display:flex;flex-direction:column;gap:6px}.browser-source-title{font-weight:600;font-size:.95rem;color:#0f172af2;text-decoration:none;transition:color .2s ease}.browser-source-title:hover{color:#4f46e5;text-decoration:underline}.browser-source-meta{display:flex;align-items:center;gap:6px;font-size:.78rem;text-transform:uppercase;letter-spacing:.04em;color:#475569d9}.browser-source-domain{font-weight:600}.browser-source-lines{font-weight:500}.browser-source-meta-divider{opacity:.45}.browser-source-snippet{margin:0;font-size:.83rem;color:#475569f2;line-height:1.45}.browser-source-open{width:32px;height:32px;border-radius:10px;border:1px solid rgba(148,163,184,.4);display:flex;align-items:center;justify-content:center;color:#4f46e5cc;text-decoration:none;transition:background .2s ease,color .2s ease,border-color .2s ease}.browser-source-open:hover{background:#6366f11a;border-color:#6366f180;color:#4f46e5}.message-citations-list li:hover{transform:translateY(-1px);box-shadow:0 8px 20px #0f172a14}.message-citations-list li a:not(.browser-source-title):not(.browser-source-open){color:#475569f2;text-decoration:none;font-weight:500;transition:color .2s ease}.message-citations-list li a:not(.browser-source-title):not(.browser-source-open):hover{color:#4f46e5;text-decoration:underline}[data-theme=dark] .message-citations{border-color:#818cf880;background:linear-gradient(135deg,#0f172ad9,#33415599);box-shadow:0 14px 30px #020617b3}[data-theme=dark] .message-citations-label{color:#c7d2fef2}[data-theme=dark] .message-citations-label:before{opacity:1}[data-theme=dark] .message-citations-count{color:#94a3b8e6}[data-theme=dark] .message-citations-list li{background:#0f172a8c;border-color:#6366f159}[data-theme=dark] .message-citations-list li:before{background:#6366f133;color:#c7d2fee6}[data-theme=dark] .message-citations-list li a:not(.browser-source-title):not(.browser-source-open){color:#cbd5e1e6}[data-theme=dark] .message-citations-list li a:not(.browser-source-title):not(.browser-source-open):hover{color:#c4b5fd}[data-theme=dark] .message-citations-list li{background:#0f172aa6;border-color:#6366f166}[data-theme=dark] .browser-source-index{background:#6366f140;color:#e0e7fff2}[data-theme=dark] .browser-source-title{color:#e2e8f0f2}[data-theme=dark] .browser-source-title:hover{color:#c4b5fd}[data-theme=dark] .browser-source-meta{color:#94a3b8f2}[data-theme=dark] .browser-source-referenced{border-color:#a5b4fc99;box-shadow:0 0 0 1px #818cf84d}[data-theme=dark] .browser-source-snippet{color:#cbd5e1e6}[data-theme=dark] .browser-source-open{border-color:#818cf866;color:#c4b5fde6}[data-theme=dark] .browser-source-open:hover{background:#818cf833;color:#fff;border-color:#c4b5fdb3}.inline-citation{color:#4f46e5;font-weight:700;text-decoration:none;margin-left:4px;margin-right:2px;cursor:pointer}.inline-citation sup{background:#6366f126;border-radius:999px;padding:1px 6px;font-size:.7rem;line-height:1;display:inline-block;min-width:18px;text-align:center}[data-theme=dark] .inline-citation{color:#c4b5fdf2}[data-theme=dark] .inline-citation sup{background:#818cf840;color:#e2e8f0f2}.theme-light .message-actions{border-top-color:#0000001a}.message-action-button{display:inline-flex;align-items:center;justify-content:center;gap:6px;padding:6px;background:transparent;border:none;border-radius:8px;color:var(--btn-text);font-size:14px;cursor:pointer;transition:background .15s ease,transform .12s ease;min-width:32px;height:32px;box-sizing:border-box;position:relative}.message-action-button:hover{background:var(--btn-bg-hover)}.theme-light .message-action-button,.theme-dark .message-action-button{background:transparent;border:none;color:var(--btn-text)}.message-action-button-text{font-weight:600;font-size:12px;display:none}.theme-light .message-action-button:hover,.theme-dark .message-action-button:hover{background:var(--btn-bg-hover)}.message-action-button:disabled{opacity:var(--btn-disabled-opacity);cursor:not-allowed;pointer-events:none}.message-action-button:disabled:hover{background:#ffffff1a;border-color:#fff3}.theme-light .message-action-button:disabled:hover{background:#0000000d;border-color:#0000001a}.theme-dark .message-action-button:disabled:hover{background:#ffffff1a;border-color:#fff3}.message-action-button svg{flex-shrink:0}.message-action-button.nav-button-left,.message-action-button.nav-button-right{min-width:28px;padding:6px;justify-content:center}.message-action-button.nav-button-left:hover,.message-action-button.nav-button-right:hover{padding:6px;gap:0}.message-action-button.nav-button-left .message-action-button-text,.message-action-button.nav-button-right .message-action-button-text{display:none}.response-counter{display:flex;align-items:center;font-size:12px;color:#fff9;padding:0 4px;font-weight:500}.theme-light .response-counter{color:#0009}.theme-dark .response-counter{color:#fff9}.message-content{line-height:1.6;font-size:14px;word-wrap:break-word;white-space:normal;transition:color .3s;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;letter-spacing:.2px;color:var(--text-primary)}.theme-light .message-content,.theme-dark .message-content{color:var(--text-primary)}.message-content p{margin:.3em 0}.message-content p:first-child{margin-top:0}.message-content p:last-child{margin-bottom:0}.markdown-content{line-height:1.6;font-size:14px;transition:color .3s;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;letter-spacing:.2px;color:var(--text-primary)}.theme-light .markdown-content,.theme-dark .markdown-content{color:var(--text-primary)}.markdown-content p{margin:.4em 0}.markdown-content p:first-child{margin-top:0}.markdown-content p:last-child{margin-bottom:0}.markdown-content h1,.markdown-content h2,.markdown-content h3,.markdown-content h4,.markdown-content h5,.markdown-content h6{margin-top:.8em;margin-bottom:.4em;font-weight:600;line-height:1.3;transition:color .3s}.theme-light .markdown-content h1,.theme-light .markdown-content h2,.theme-light .markdown-content h3,.theme-light .markdown-content h4,.theme-light .markdown-content h5,.theme-light .markdown-content h6{color:#1a1a1a}.theme-dark .markdown-content h1,.theme-dark .markdown-content h2,.theme-dark .markdown-content h3,.theme-dark .markdown-content h4,.theme-dark .markdown-content h5,.theme-dark .markdown-content h6{color:#ececf1}.markdown-content h1{font-size:1.75em}.markdown-content h2{font-size:1.5em}.markdown-content h3{font-size:1.25em}.markdown-content h4{font-size:1.1em}.markdown-content ul,.markdown-content ol{margin:.4em 0;padding-left:1.5em}.markdown-content li{margin:.15em 0}.markdown-content blockquote{margin:.5em 0;padding-left:1em;border-left:3px solid;opacity:.7}.theme-light .markdown-content blockquote{border-left-color:#0000004d}.theme-dark .markdown-content blockquote{border-left-color:#ffffff4d}.markdown-content code{background-color:var(--code-bg);padding:2px 6px;border-radius:4px;font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;font-size:.9em;border:1px solid var(--code-border)}.theme-light .markdown-content code{background-color:var(--code-bg);color:#d63384}.theme-dark .markdown-content code{background-color:var(--code-bg);color:#f8a5c2}.markdown-content pre{position:relative;margin:1em 0;border-radius:8px;overflow:hidden;font-size:.9em;background-color:var(--code-bg);border:1px solid var(--code-border)}.theme-light .markdown-content pre,.theme-dark .markdown-content pre{background-color:var(--code-bg);border:1px solid var(--code-border)}.markdown-content pre:before{content:attr(data-language);display:flex;align-items:center;justify-content:space-between;padding:8px 16px;font-size:11px;font-weight:600;letter-spacing:1px;text-transform:uppercase;border-bottom:1px solid;min-height:32px;width:100%;box-sizing:border-box;position:absolute;top:0;left:0;right:0}.markdown-content pre:not([data-language]):before,.markdown-content pre[data-language=""]:before{display:none}.theme-light .markdown-content pre:before{background-color:var(--code-bg);border-bottom-color:var(--code-border);color:#666}.theme-dark .markdown-content pre:before{background-color:var(--code-bg);border-bottom-color:var(--code-border);color:#999}.markdown-content .copy-code-button{position:absolute;top:8px;right:16px;background:none;border:none;cursor:pointer;padding:4px 8px;border-radius:4px;font-size:11px;font-weight:600;display:flex;align-items:center;gap:4px;transition:all .2s ease;z-index:11;color:inherit}.markdown-content .copy-code-button svg{transition:transform .3s ease}.markdown-content .copy-code-button.copied svg{animation:checkmark-pop .4s cubic-bezier(.68,-.55,.265,1.55)}@keyframes checkmark-pop{0%{transform:scale(.8) rotate(-10deg)}50%{transform:scale(1.2)}to{transform:scale(1) rotate(0)}}.theme-light .markdown-content .copy-code-button{color:#666}.theme-light .markdown-content .copy-code-button:hover{color:#333;opacity:.8}.theme-light .markdown-content .copy-code-button.copied{color:#10b981}.theme-dark .markdown-content .copy-code-button{color:#999}.theme-dark .markdown-content .copy-code-button:hover{color:#e0e0e0;opacity:.8}.theme-dark .markdown-content .copy-code-button.copied{color:#34d399}.markdown-content .code-scroll-wrapper{overflow-x:auto;margin:1em 0;border-radius:8px;-webkit-overflow-scrolling:touch;scrollbar-width:thin;background-color:transparent;border:none}.theme-light .markdown-content .code-scroll-wrapper{scrollbar-color:rgba(0,0,0,.3) transparent}.theme-dark .markdown-content .code-scroll-wrapper{scrollbar-color:rgba(255,255,255,.3) transparent}.markdown-content pre::-webkit-scrollbar,.markdown-content .code-scroll-wrapper::-webkit-scrollbar{height:8px}.markdown-content pre::-webkit-scrollbar-track,.markdown-content .code-scroll-wrapper::-webkit-scrollbar-track{background:transparent}.theme-light .markdown-content pre::-webkit-scrollbar-thumb,.theme-light .markdown-content .code-scroll-wrapper::-webkit-scrollbar-thumb{background:#0003;border-radius:4px}.theme-light .markdown-content pre::-webkit-scrollbar-thumb:hover,.theme-light .markdown-content .code-scroll-wrapper::-webkit-scrollbar-thumb:hover{background:#0006}.theme-dark .markdown-content pre::-webkit-scrollbar-thumb,.theme-dark .markdown-content .code-scroll-wrapper::-webkit-scrollbar-thumb{background:#fff3;border-radius:4px}.theme-dark .markdown-content pre::-webkit-scrollbar-thumb:hover,.theme-dark .markdown-content .code-scroll-wrapper::-webkit-scrollbar-thumb:hover{background:#fff6}.markdown-content pre code{display:block;background-color:transparent;padding:16px;color:inherit;font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;font-size:13px;line-height:1.6;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:500;letter-spacing:.3px;overflow-x:auto}.markdown-content pre[data-language]:not([data-language=""]) code{padding-top:48px}.theme-light .markdown-content pre code{color:#000}.theme-dark .markdown-content pre code{color:#e0e0e0}.hljs{background:transparent!important;padding:0}.theme-dark .hljs-keyword,.theme-dark .hljs-built_in,.theme-dark .hljs-literal{color:#c678dd}.theme-dark .hljs-string{color:#98c379}.theme-dark .hljs-number{color:#d19a66}.theme-dark .hljs-attr,.theme-dark .hljs-attr-name{color:#e06c75}.theme-dark .hljs-title,.theme-dark .hljs-type,.theme-dark .hljs-function{color:#61afef}.theme-dark .hljs-comment{color:#5c6370}.theme-dark .hljs-operator{color:#56b6c2}.theme-dark .hljs-meta{color:#abb2bf}.theme-dark .hljs-variable,.theme-dark .hljs-name{color:#e06c75}.theme-light .hljs-keyword,.theme-light .hljs-built_in,.theme-light .hljs-literal{color:#a626a4}.theme-light .hljs-string{color:#50a14f}.theme-light .hljs-number{color:#986801}.theme-light .hljs-attr,.theme-light .hljs-attr-name{color:#e45649}.theme-light .hljs-title,.theme-light .hljs-type,.theme-light .hljs-function{color:#4078f2}.theme-light .hljs-comment{color:#a0a1a7}.theme-light .hljs-operator{color:#0184bc}.theme-light .hljs-meta{color:#4078f2}.theme-light .hljs-variable,.theme-light .hljs-name{color:#e45649}.markdown-content a{color:#10a37f;text-decoration:underline}.markdown-content a:hover{color:#0d8a6d}.table-scroll-wrapper{overflow-x:auto;overflow-y:visible;margin:.5em 0;-webkit-overflow-scrolling:touch;scrollbar-width:thin;scrollbar-color:rgba(0,0,0,.3) transparent;width:100%;max-width:100%}.table-scroll-wrapper::-webkit-scrollbar{height:8px}.table-scroll-wrapper::-webkit-scrollbar-track{background:transparent;border-radius:4px}.theme-light .table-scroll-wrapper::-webkit-scrollbar-thumb{background:#0003;border-radius:4px}.theme-light .table-scroll-wrapper::-webkit-scrollbar-thumb:hover{background:#0000004d}.theme-dark .table-scroll-wrapper::-webkit-scrollbar-thumb{background:#fff3;border-radius:4px}.theme-dark .table-scroll-wrapper::-webkit-scrollbar-thumb:hover{background:#ffffff4d}.markdown-content table{border-collapse:collapse;margin:0;width:100%;min-width:0;display:table;table-layout:fixed}.markdown-content th,.markdown-content td{word-break:break-word;white-space:normal;overflow-wrap:anywhere}.markdown-content p,.markdown-content em,.markdown-content strong{word-break:break-word;overflow-wrap:anywhere}.math-scroll-wrapper{overflow-x:auto;overflow-y:visible;margin:1em 0;-webkit-overflow-scrolling:touch;scrollbar-width:thin;scrollbar-color:rgba(0,0,0,.3) transparent;width:100%;max-width:100%;display:block}.math-scroll-wrapper>.katex-display{margin:0;display:block}.math-scroll-wrapper::-webkit-scrollbar{height:8px}.math-scroll-wrapper::-webkit-scrollbar-track{background:transparent;border-radius:4px}.theme-light .math-scroll-wrapper::-webkit-scrollbar-thumb{background:#0003;border-radius:4px}.theme-light .math-scroll-wrapper::-webkit-scrollbar-thumb:hover{background:#0000004d}.theme-dark .math-scroll-wrapper::-webkit-scrollbar-thumb{background:#fff3;border-radius:4px}.theme-dark .math-scroll-wrapper::-webkit-scrollbar-thumb:hover{background:#ffffff4d}.markdown-content th,.markdown-content td{border:1px solid;padding:.5em}.theme-light .markdown-content th,.theme-light .markdown-content td{border-color:#0003}.theme-dark .markdown-content th,.theme-dark .markdown-content td{border-color:#fff3}.markdown-content th{font-weight:600;background-color:#0000001a}.theme-light .markdown-content th{background-color:#0000000d}.theme-dark .markdown-content th{background-color:#ffffff1a}.markdown-content hr{border:none;border-top:1px solid;margin:.8em 0;opacity:.3}.theme-light .markdown-content hr{border-top-color:#0003}.theme-dark .markdown-content hr{border-top-color:#fff3}.markdown-content sup.browser-citation-pill{font-size:.65rem;background:#6366f12e;border-radius:999px;padding:1px 6px;margin:0 2px;color:#4338ca;border:1px solid rgba(99,102,241,.4);font-weight:600;cursor:default;transition:background .2s ease,color .2s ease}.markdown-content sup.browser-citation-pill:hover{background:#6366f147}[data-theme=dark] .markdown-content sup.browser-citation-pill{background:#6366f159;border-color:#818cf899;color:#e0e7fff2}.message-content code{background-color:transparent;padding:2px 6px;border-radius:4px;font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;font-size:14px}.message-content pre{background-color:transparent;padding:10px;border-radius:6px;overflow-x:auto;margin:.3em 0}.message-content pre code{background:none;padding:0}.typing-indicator{display:flex;gap:4px;align-items:center}.typing-indicator span{width:8px;height:8px;border-radius:50%;animation:typing 1.4s infinite}.theme-light .typing-indicator span{background-color:#666}.theme-dark .typing-indicator span{background-color:#ececf1}.typing-indicator span:nth-child(2){animation-delay:.2s}.typing-indicator span:nth-child(3){animation-delay:.4s}@keyframes typing{0%,60%,to{transform:translateY(0);opacity:.7}30%{transform:translateY(-10px);opacity:1}}@keyframes fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.error-message{display:flex;gap:12px;padding:16px 20px;margin:0 20px;background-color:#f59e0b;border-radius:8px;color:#1f2937}.error-icon{font-size:20px}.error-text{flex:1;font-size:14px;line-height:1.5}.pdf-context-toggle-container{padding:8px 20px 0;flex-shrink:0;display:flex;align-items:center;justify-content:flex-start}.pdf-context-toggle-container{flex-shrink:0;flex-grow:0;padding:8px 20px 0}.split-chat .pdf-context-toggle-container{flex-shrink:0;flex-grow:0;order:4.9!important;padding:8px 20px 0;margin-top:0;margin-bottom:0}.floating-chat .pdf-context-toggle-container,.chatgpt-inner .pdf-context-toggle-container:not(.split-chat *){order:999!important;margin-top:0!important;margin-bottom:0!important;flex-shrink:0!important;flex-grow:0!important}.pdf-context-toggle{display:flex;align-items:center;gap:8px;padding:0;background:none!important;border:none!important;border-radius:0;cursor:pointer;transition:color .2s;font-size:13px;white-space:nowrap}.theme-light .pdf-context-toggle{background:none!important;border:none!important;color:#0009}.theme-light .pdf-context-toggle:hover{background:none!important;border:none!important;color:#000c}.theme-light .pdf-context-toggle.active{background:none!important;border:none!important;color:#0009}.theme-dark .pdf-context-toggle{background:none!important;border:none!important;color:#fff9}.theme-dark .pdf-context-toggle:hover{background:none!important;border:none!important;color:#fffc}.theme-dark .pdf-context-toggle.active{background:none!important;border:none!important;color:#fff9}.pdf-context-toggle-text{font-weight:500;font-size:13px}.pdf-context-extracting{font-size:11px;opacity:.7;font-style:italic;margin-left:4px}.split-chat .theme-light .pdf-context-toggle{background:none!important;border:none!important;color:#0009}.split-chat .theme-light .pdf-context-toggle:hover{background:none!important;border:none!important;color:#000c}.split-chat .theme-light .pdf-context-toggle.active{background:none!important;border:none!important;color:#0009}.split-chat .theme-dark .pdf-context-toggle{background:none!important;border:none!important;color:#fff9}.split-chat .theme-dark .pdf-context-toggle:hover{background:none!important;border:none!important;color:#fffc}.split-chat .theme-dark .pdf-context-toggle.active{background:none!important;border:none!important;color:#fff9}.chatgpt-input-container{padding:8px 20px;flex-shrink:0;transition:background-color .3s,border-color .3s,border-width .2s ease;order:1000!important;position:relative}.input-wrapper.drag-over{border:3px dashed #4285f4!important;border-radius:12px;background:#4285f426!important;box-shadow:0 0 0 2px #4285f433 inset,0 4px 12px #4285f44d!important}.theme-light .input-wrapper.drag-over{border-color:#4285f4!important;background:#4285f433!important}.theme-dark .input-wrapper.drag-over{border-color:#4285f4!important;background:#4285f440!important}.split-chat .theme-light .input-wrapper.drag-over{background:#4285f440!important}.split-chat .theme-dark .input-wrapper.drag-over{background:#4285f44d!important}.split-chat .chatgpt-input-container{order:5!important;padding:8px 20px}.theme-light .chatgpt-input-container,.theme-dark .chatgpt-input-container{background:transparent;border-top:none}.split-chat .theme-light .chatgpt-input-container{background:#fffffff2;border-top:none;padding-top:0;box-shadow:none}.split-chat .theme-dark .chatgpt-input-container{background:#202123f2;border-top:none;padding-top:0;box-shadow:none}.free-trial-badge{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:8px 12px;margin:0 0 8px;border-radius:8px;font-size:12px;background:linear-gradient(135deg,#3b82f61a,#8b5cf61a);border:1px solid rgba(59,130,246,.3);transition:all .3s ease}.theme-dark .free-trial-badge{background:linear-gradient(135deg,#3b82f626,#8b5cf626);border-color:#3b82f666}.free-trial-content{display:flex;align-items:center;gap:8px;flex:1}.free-trial-content svg{color:#3b82f6;flex-shrink:0}.theme-dark .free-trial-content svg{color:#60a5fa}.trial-text{font-weight:600;color:#3b82f6;white-space:nowrap}.theme-dark .trial-text{color:#60a5fa}.trial-count-badge{display:inline-flex;align-items:center;justify-content:center;padding:2px 8px;background:#3b82f633;border-radius:12px;font-weight:700;font-size:11px;color:#2563eb;white-space:nowrap}.theme-dark .trial-count-badge{background:#3b82f640;color:#93c5fd}.trial-progress-mini{width:60px;height:4px;background:#3b82f633;border-radius:2px;overflow:hidden;flex-shrink:0}.theme-dark .trial-progress-mini{background:#3b82f640}.trial-fill-mini{height:100%;background:linear-gradient(90deg,#3b82f6,#8b5cf6);border-radius:2px;transition:width .3s ease}.free-trial-badge:has(.trial-count-badge:contains("0/")){background:linear-gradient(135deg,#ef44441a,#dc26261a);border-color:#ef44444d}@media(max-width:400px){.free-trial-badge{flex-direction:column;gap:6px;align-items:stretch}.trial-progress-mini{width:100%}}.input-wrapper{display:flex;align-items:flex-end;gap:8px;border-radius:12px;padding:6px;border:1px solid;transition:all .3s ease;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);box-shadow:0 4px 16px #0000001a}.theme-light .input-wrapper{background:transparent;border-color:#d0d0d080;box-shadow:0 4px 16px #0000000d}.theme-light .input-wrapper:focus-within{border-color:#10a37f99;box-shadow:0 4px 20px #10a37f33;background:transparent}.theme-light .input-wrapper.focus-auto{border-color:#3b82f6!important;box-shadow:0 4px 20px #3b82f633!important}.theme-light .input-wrapper.focus-quick{border-color:#10b981!important;box-shadow:0 4px 20px #10b98133!important}.theme-light .input-wrapper.focus-thinking{border-color:#8b5cf6!important;box-shadow:0 4px 20px #8b5cf633!important}.split-chat .theme-light .input-wrapper{background:#fffc;border-color:#d0d0d0cc;box-shadow:0 2px 8px #0000000d}.split-chat .theme-light .input-wrapper:focus-within{background:#fffffff2;border-color:#10a37fcc;box-shadow:0 2px 12px #10a37f26}.split-chat .theme-light .input-wrapper.focus-auto{border-color:#3b82f6!important;box-shadow:0 2px 12px #3b82f626!important}.split-chat .theme-light .input-wrapper.focus-quick{border-color:#10b981!important;box-shadow:0 2px 12px #10b98126!important}.split-chat .theme-light .input-wrapper.focus-thinking{border-color:#8b5cf6!important;box-shadow:0 2px 12px #8b5cf626!important}.split-chat .theme-dark .input-wrapper{background:#40414fcc;border-color:#565869cc;box-shadow:0 2px 8px #0003}.split-chat .theme-dark .input-wrapper:focus-within{background:#40414ff2;border-color:#10a37fcc;box-shadow:0 2px 12px #10a37f4d}.split-chat .theme-dark .input-wrapper.focus-auto{border-color:#3b82f6!important;box-shadow:0 2px 12px #3b82f64d!important}.split-chat .theme-dark .input-wrapper.focus-quick{border-color:#10b981!important;box-shadow:0 2px 12px #10b9814d!important}.split-chat .theme-dark .input-wrapper.focus-thinking{border-color:#8b5cf6!important;box-shadow:0 2px 12px #8b5cf64d!important}.theme-dark .input-wrapper{background:transparent;border-color:#56586980;box-shadow:0 4px 16px #0003}.theme-dark .input-wrapper:focus-within{border-color:#10a37f99;box-shadow:0 4px 20px #10a37f4d;background:transparent}.theme-dark .input-wrapper.focus-auto{border-color:#3b82f6!important;box-shadow:0 4px 20px #3b82f64d!important}.theme-dark .input-wrapper.focus-quick{border-color:#10b981!important;box-shadow:0 4px 20px #10b9814d!important}.theme-dark .input-wrapper.focus-thinking{border-color:#8b5cf6!important;box-shadow:0 4px 20px #8b5cf64d!important}.chatgpt-input{flex:1;background:transparent;border:none;font-size:14px;font-family:inherit;resize:none;outline:none;height:auto;min-height:20px;max-height:200px;overflow-y:auto;line-height:1.4;padding:2px 4px;transition:color .3s,height .1s ease-out;box-sizing:border-box}.theme-light .chatgpt-input{color:#fff}.theme-light .chatgpt-input::placeholder{color:#fff;opacity:.7}.theme-dark .chatgpt-input{color:#fff}.theme-dark .chatgpt-input::placeholder{color:#b0b0b0;opacity:.9}.chatgpt-input:disabled{opacity:.5;cursor:not-allowed}.send-button{background:var(--btn-primary-bg);border:1px solid var(--btn-primary-border);color:var(--btn-primary-text);border-radius:8px;width:36px;height:36px;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:background .15s ease,border-color .15s ease,transform .12s ease,box-shadow .2s ease,opacity .2s ease;box-shadow:0 8px 20px #0066ff2e;flex-shrink:0}.send-button svg{width:20px;height:20px}.send-button:hover:not(:disabled){background:var(--btn-primary-bg-hover);border-color:var(--btn-primary-border);transform:translateY(-1px);box-shadow:0 12px 30px #0066ff40}.send-button:active:not(:disabled){transform:scale(.98);background:var(--btn-primary-bg-active)}.send-button:disabled{opacity:var(--btn-disabled-opacity);cursor:not-allowed;box-shadow:none}.pause-button:hover:not(:disabled){background-color:#ef44441a}.theme-dark .pause-button:hover:not(:disabled){background-color:#ef444433}.split-footer{position:absolute;bottom:32px;left:50%;transform:translate(-50%);flex-shrink:0;order:6!important;margin:0;padding:6px 12px;border-radius:999px;background:#0000000f;backdrop-filter:blur(6px) saturate(120%);-webkit-backdrop-filter:blur(6px) saturate(120%);box-shadow:0 4px 10px #00000014;white-space:nowrap;text-align:center;pointer-events:none;z-index:30;max-width:90%}.split-chat .theme-light .split-footer{background:#fffffff2;box-shadow:0 6px 18px #1018280f;border:1px solid rgba(16,24,40,.04)}.split-chat .theme-light .split-footer .footer-text{color:#333;opacity:var(--btn-disabled-opacity)}@media(max-width:1024px){.split-footer{text-align:center}}[data-theme=dark] .split-footer{border-top-color:#ffffff1a;border-bottom-color:#ffffff1a}.theme-light .footer-text-outer{background:#00000040;box-shadow:0 4px 16px #00000026}.theme-dark .footer-text-outer{background:#0006;box-shadow:0 4px 16px #0000004d}.floating-chat .theme-light .footer-text-outer{background:#00000026}.floating-chat .theme-dark .footer-text-outer{background:#00000040}.footer-text{font-size:12px;transition:color .3s;pointer-events:none;font-weight:500;opacity:.85}.theme-light .footer-text{color:#fff}.theme-dark .footer-text{color:#b0b0b0}.split-footer .footer-text{color:#666;font-size:12px;opacity:.95}[data-theme=dark] .split-footer .footer-text{color:#b0b0b0}.chatgpt-messages::-webkit-scrollbar{width:8px}.chatgpt-messages::-webkit-scrollbar-track{background:#202123}.chatgpt-messages::-webkit-scrollbar-thumb{background:#565869;border-radius:4px}.chatgpt-messages::-webkit-scrollbar-thumb:hover{background:#6e6e7a}.chatgpt-input::-webkit-scrollbar{width:8px}.chatgpt-input::-webkit-scrollbar-track{background:transparent}.chatgpt-input::-webkit-scrollbar-thumb{background:#565869;border-radius:4px}.chatgpt-input::-webkit-scrollbar-thumb:hover{background:#6e6e7a}.thinking-process-container{margin-bottom:12px;width:100%;min-width:0;overflow-x:visible}.thinking-toggle-button{display:flex;align-items:center;gap:8px;padding:8px 12px;background:#ffffff08;border:none;border-radius:6px;color:inherit;cursor:pointer;font-size:13px;transition:all .2s;width:100%;text-align:left}.thinking-toggle-button.expanded{border-radius:6px 6px 0 0}.theme-light .thinking-toggle-button{background:#00000005;color:#666}.theme-dark .thinking-toggle-button{background:#ffffff08;color:#b0b0b0}.thinking-toggle-button:hover{background:#ffffff0d}.theme-light .thinking-toggle-button:hover{background:#00000008}.thinking-toggle-button svg{flex-shrink:0}.thinking-content{padding:12px 16px;background:#ffffff08;border-radius:6px;font-size:13px;line-height:1.6;overflow-x:visible;word-wrap:break-word;word-break:break-word}.thinking-content.expanded{border-radius:0 0 6px 6px}.theme-light .thinking-content{background:#00000005;color:#555}.theme-dark .thinking-content{background:#ffffff08;color:#b0b0b0}.floating-chat .theme-dark .thinking-content{background:#ffffff0d;color:#d0d0d0}.floating-chat .theme-light .thinking-content{background:#00000008;color:#444}.floating-chat .theme-dark .thinking-toggle-button{background:#ffffff0d}.floating-chat .theme-light .thinking-toggle-button{background:#00000008}.thinking-content .markdown-content{font-size:13px;overflow-x:visible;word-wrap:break-word;word-break:break-word}.thinking-content .markdown-content ul,.thinking-content .markdown-content ol{margin:.4em 0;padding-left:1.5em;padding-right:0;overflow-x:visible}.thinking-content .markdown-content li{margin:.15em 0;padding-left:0;overflow-x:visible;word-wrap:break-word;word-break:break-word}.thinking-content .markdown-content p{margin:.4em 0;overflow-x:visible;word-wrap:break-word;word-break:break-word}.theme-dark .thinking-content .markdown-content{color:#b0b0b0}.floating-chat .theme-dark .thinking-content .markdown-content{color:#d0d0d0}.theme-light .thinking-content .markdown-content{color:#555}.floating-chat .theme-light .thinking-content .markdown-content{color:#444}.thinking-content::-webkit-scrollbar{width:6px}.thinking-content::-webkit-scrollbar-track{background:transparent}.thinking-content::-webkit-scrollbar-thumb{background:#fff3;border-radius:3px}.thinking-content::-webkit-scrollbar-thumb:hover{background:#ffffff4d}.interaction-mode-selector{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:1rem;width:100%;height:100%;min-height:300px;max-height:100%;overflow-y:auto;overflow-x:hidden;animation:fadeInScale .3s cubic-bezier(.4,0,.2,1);background:linear-gradient(135deg,#f9fafbfa,#f3f4f6fa);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}[data-theme=dark] .interaction-mode-selector{background:linear-gradient(135deg,#1a1a1afa,#141414fa)}.mode-selector-header{text-align:center;margin-bottom:1.5rem;flex-shrink:0}.mode-selector-header h2{font-size:1.75rem;font-weight:600;margin:0 0 .5rem;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.mode-selector-header p{font-size:1rem;color:#6b7280;margin:0}[data-theme=dark] .mode-selector-header p{color:#9ca3af}.mode-cards{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem;width:100%;max-width:500px;flex-shrink:1}.mode-card{background:linear-gradient(135deg,#fffffffa,#fffffff2);border:1.5px solid #e5e7eb;border-radius:12px;padding:1.25rem 1rem;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);position:relative;overflow:hidden;display:flex;flex-direction:column;align-items:center;text-align:center;min-height:160px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:0 2px 8px #00000014,0 1px 4px #0000000a}[data-theme=dark] .mode-card{background:linear-gradient(135deg,#282828fa,#1e1e1ef2);border-color:#ffffff1a;box-shadow:0 2px 12px #0000004d,0 1px 6px #0003}.mode-card:before{content:"";position:absolute;inset:0;background:linear-gradient(135deg,#667eea1a,#764ba21a);opacity:0;transition:opacity .3s ease;z-index:0}.mode-card:hover:before,.mode-card.hovered:before{opacity:1}.mode-card:hover,.mode-card.hovered{transform:translateY(-8px);box-shadow:0 20px 40px #00000026;border-color:#667eea}[data-theme=dark] .mode-card:hover,[data-theme=dark] .mode-card.hovered{box-shadow:0 20px 40px #0006;border-color:#818cf8}.mode-card:active{transform:translateY(-4px)}.mode-card:disabled{opacity:.5;cursor:not-allowed}.mode-card>*{position:relative;z-index:1}.mode-icon{width:48px;height:48px;border-radius:50%;display:flex;align-items:center;justify-content:center;margin-bottom:.75rem;transition:all .3s ease;box-shadow:0 4px 12px #0000001a}.mode-icon svg{width:24px;height:24px}.guide-icon{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.quiz-icon{background:linear-gradient(135deg,#f093fb,#f5576c);color:#fff}.mode-card:hover .mode-icon,.mode-card.hovered .mode-icon{transform:scale(1.1) rotate(5deg)}.mode-card h3{font-size:1.1rem;font-weight:600;margin:0 0 .4rem;color:#111827}[data-theme=dark] .mode-card h3{color:#f9fafb}.mode-card>p{font-size:.8rem;color:#6b7280;margin:0 0 .75rem;line-height:1.3}[data-theme=dark] .mode-card>p{color:#9ca3af}.mode-features{list-style:none;padding:0;margin:0 0 .75rem;text-align:left;width:100%;flex:1}.mode-features li{padding:.3rem 0;color:#374151;font-size:.75rem;display:flex;align-items:center;gap:.4rem;line-height:1.2}[data-theme=dark] .mode-features li{color:#d1d5db}.mode-action{font-weight:600;color:#667eea;font-size:.95rem;margin-top:auto;transition:all .3s ease}[data-theme=dark] .mode-action{color:#818cf8}.mode-card:hover .mode-action,.mode-card.hovered .mode-action{transform:translate(5px)}@media(max-width:768px){.interaction-mode-selector{padding:.75rem .5rem;min-height:250px}.mode-selector-header h2{font-size:1.1rem}.mode-selector-header p{font-size:.8rem}.mode-cards{grid-template-columns:repeat(2,1fr);gap:.6rem;max-width:100%}.mode-card{min-height:120px;padding:.85rem .65rem}}.quiz-review{display:flex;flex-direction:column;width:100%;height:100%;max-height:100vh;overflow-y:auto;padding:2rem 2rem 3rem;background:var(--bg-primary, #fff);animation:fadeIn .4s ease;scrollbar-width:thin;scrollbar-color:rgba(102,126,234,.6) rgba(0,0,0,.04)}[data-theme=dark] .quiz-review{background:#1a1a1a}.quiz-review::-webkit-scrollbar{width:12px}.quiz-review::-webkit-scrollbar-track{background:#0000000a;border-radius:10px}.quiz-review::-webkit-scrollbar-thumb{background:linear-gradient(135deg,#667eea,#764ba2);border-radius:10px;border:3px solid transparent;background-clip:padding-box}[data-theme=dark] .quiz-review::-webkit-scrollbar-track{background:#ffffff05}[data-theme=dark] .quiz-review::-webkit-scrollbar-thumb{background:linear-gradient(135deg,#818cf8,#667eea)}.review-header{display:flex;justify-content:space-between;align-items:flex-start;gap:2rem;margin-bottom:2.5rem;padding:2rem;background:linear-gradient(135deg,#667eea1a,#764ba21a);border-radius:16px;border:2px solid rgba(102,126,234,.2);flex-wrap:wrap}[data-theme=dark] .review-header{background:linear-gradient(135deg,#667eea26,#764ba226);border-color:#667eea4d}.score-summary{display:flex;align-items:center;gap:2rem;flex:1}.score-circle-small{position:relative;width:120px;height:120px;flex-shrink:0}.score-circle-small svg{width:100%;height:100%}.score-text-small{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center}.score-percentage-small{font-size:2rem;font-weight:700;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.summary-text h2{font-size:1.4rem;font-weight:700;margin:0 0 .5rem;color:#000}[data-theme=dark] .summary-text h2{color:#f9fafb}.score-details{font-size:.95rem;color:#666;margin:0 0 1rem}[data-theme=dark] .score-details{color:#9ca3af}.score-details strong{color:#667eea;font-weight:700}.performance-badge{display:inline-block;padding:.5rem 1rem;background:#667eea1a;border:2px solid rgba(102,126,234,.3);border-radius:20px;font-size:1rem;font-weight:600;color:#667eea}[data-theme=dark] .performance-badge{background:#667eea33;color:#818cf8}.header-actions{display:flex;gap:1rem;flex-shrink:0;align-self:flex-start}.action-btn{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.25rem;border-radius:10px;cursor:pointer;font-size:.9rem;font-weight:600;transition:all .3s ease;white-space:nowrap;text-align:center}.action-btn svg{width:20px;height:20px}.action-btn.secondary{background:#fff;border:2px solid #e5e7eb;color:#333}[data-theme=dark] .action-btn.secondary{background:#ffffff0d;border-color:#ffffff1a;color:#e5e7eb}.action-btn.secondary:hover{border-color:#667eea;transform:translateY(-2px);box-shadow:0 4px 12px #0000001a}.action-btn.primary{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none}.action-btn.primary:hover{transform:translateY(-2px);box-shadow:0 4px 16px #667eea66}.questions-review-list{display:flex;flex-direction:column;gap:1.5rem}.review-question-card{background:#fff;border:2px solid #e5e7eb;border-radius:12px;padding:1.75rem;transition:all .3s ease;animation:slideIn .4s ease}[data-theme=dark] .review-question-card{background:#ffffff08;border-color:#ffffff1a}.review-question-card.correct{border-left:4px solid #10b981}.review-question-card.incorrect{border-left:4px solid #ef4444}@keyframes slideIn{0%{opacity:0;transform:translate(-20px)}to{opacity:1;transform:translate(0)}}.review-question-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;flex-wrap:wrap;gap:1rem}.question-number-badge{display:flex;align-items:center;gap:.75rem;font-size:.95rem;font-weight:600;color:#666}[data-theme=dark] .question-number-badge{color:#9ca3af}.status-icon{width:28px;height:28px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1rem;font-weight:700}.correct-icon{background:#10b981;color:#fff}.incorrect-icon{background:#ef4444;color:#fff}.question-meta{display:flex;gap:.75rem}.review-question-text{margin:0 0 1.25rem;font-size:1rem;font-weight:600;color:#000;line-height:1.5}[data-theme=dark] .review-question-text{color:#f9fafb}.answer-comparison{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem;margin-bottom:1.5rem}.answer-box{padding:1.25rem;border-radius:10px;border:2px solid}.correct-answer-box{background:#10b9810d;border-color:#10b981}[data-theme=dark] .correct-answer-box{background:#10b9811a}.incorrect-answer-box{background:#ef44440d;border-color:#ef4444}[data-theme=dark] .incorrect-answer-box{background:#ef44441a}.answer-label{font-size:.85rem;font-weight:600;text-transform:uppercase;letter-spacing:.5px;margin-bottom:.5rem;color:#666}[data-theme=dark] .answer-label{color:#9ca3af}.answer-content{font-size:1rem;color:#000;line-height:1.5}[data-theme=dark] .answer-content{color:#e5e7eb}.no-answer{font-style:italic;color:#999}.review-explanation{background:#f9fafb;border:1px solid #e5e7eb;border-radius:10px;padding:1.25rem;margin-bottom:1rem}[data-theme=dark] .review-explanation{background:#ffffff08;border-color:#ffffff1a}.explanation-label{display:flex;align-items:center;gap:.5rem;font-size:.9rem;font-weight:600;color:#667eea;margin-bottom:.75rem}.explanation-label svg{width:18px;height:18px}.explanation-content{font-size:.95rem;color:#666;line-height:1.6}[data-theme=dark] .explanation-content{color:#9ca3af}.review-question-actions{display:flex;gap:.75rem;flex-wrap:wrap}.mini-action-btn{display:flex;align-items:center;gap:.5rem;padding:.5rem .75rem;background:#fff;border:2px solid #e5e7eb;border-radius:8px;cursor:pointer;font-size:.8rem;font-weight:500;color:#333;transition:all .2s ease;text-align:center}[data-theme=dark] .mini-action-btn{background:#ffffff0d;border-color:#ffffff1a;color:#e5e7eb}.mini-action-btn svg{width:16px;height:16px}.mini-action-btn:hover{border-color:#667eea;background:#667eea1a;color:#667eea;transform:translateY(-2px)}[data-theme=dark] .mini-action-btn:hover{border-color:#818cf8;background:#818cf826;color:#818cf8}@media(max-width:768px){.quiz-review{padding:1rem}.review-header{flex-direction:column;padding:1.5rem}.score-summary{flex-direction:column;text-align:center}.header-actions{width:100%;flex-direction:column}.action-btn{width:100%;justify-content:center}.review-question-card{padding:1.25rem}.answer-comparison{grid-template-columns:1fr}.review-question-actions{flex-direction:column}.mini-action-btn{width:100%;justify-content:center}}.quiz-interface{display:flex;flex-direction:column;width:100%;height:100%;max-height:100vh;overflow-y:auto;padding:2rem;background:var(--bg-primary, #fff);border-radius:12px;animation:fadeIn .4s ease}[data-theme=dark] .quiz-interface{background:#1a1a1a}@keyframes fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.quiz-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;gap:2rem;flex-wrap:wrap}.quiz-progress{flex:1;min-width:200px}.progress-text{font-size:.82rem;font-weight:500;color:#666;margin-bottom:.5rem}[data-theme=dark] .progress-text{color:#9ca3af}.progress-bar{width:100%;height:8px;background:var(--bg-secondary, #f5f5f5);border-radius:10px;overflow:hidden}[data-theme=dark] .progress-bar{background:#ffffff1a}.progress-fill{height:100%;background:linear-gradient(90deg,#667eea,#764ba2);transition:width .4s cubic-bezier(.4,0,.2,1);border-radius:10px}.quiz-score{font-size:.98rem;font-weight:600;color:#333;padding:.5rem 1.25rem;background:#f9fafb;border-radius:20px;border:2px solid #e5e7eb}[data-theme=dark] .quiz-score{color:#f9fafb;background:#ffffff0d;border-color:#ffffff1a}.question-card{background:#fff;border:2px solid #e5e7eb;border-radius:12px;padding:1rem .75rem;margin-bottom:1rem;box-shadow:0 4px 12px #0000000d}[data-theme=dark] .question-card{background:#ffffff08;border-color:#ffffff1a;box-shadow:0 4px 12px #0000004d}.question-header{display:flex;gap:1rem;margin-bottom:1.5rem}.difficulty-badge{padding:.25rem .75rem;border-radius:12px;font-size:.8rem;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.difficulty-badge.easy{background:linear-gradient(135deg,#84fab0,#8fd3f4);color:#1a5f40}[data-theme=dark] .difficulty-badge.easy{color:#0f3d2b}.difficulty-badge.medium{background:linear-gradient(135deg,#ffeaa7,#fdcb6e);color:#8b5e00}[data-theme=dark] .difficulty-badge.medium{color:#5a3d00}.difficulty-badge.hard{background:linear-gradient(135deg,#ff6b6b,#ee5a6f);color:#fff}.page-ref{padding:.25rem .75rem;border-radius:12px;font-size:.8rem;background:#f9fafb;color:#666;border:1px solid #e5e7eb}[data-theme=dark] .page-ref{background:#ffffff0d;color:#9ca3af;border-color:#ffffff1a}.question-text{font-size:1.05rem;font-weight:600;color:#000;line-height:1.5;margin:0 0 .75rem}[data-theme=dark] .question-text{color:#f9fafb}.options-list{display:flex;flex-direction:column;gap:.75rem}.option-btn{display:flex;align-items:center;gap:.85rem;padding:.85rem 1rem;background:#f9fafb;border:2px solid #e5e7eb;border-radius:12px;cursor:pointer;transition:all .3s ease;text-align:left;width:100%}[data-theme=dark] .option-btn{background:#ffffff0d;border-color:#ffffff1a}.option-btn:hover:not(:disabled){border-color:#667eea;background:#fff;transform:translate(4px)}[data-theme=dark] .option-btn:hover:not(:disabled){background:#ffffff14;border-color:#818cf8}.option-btn:disabled{cursor:not-allowed}.option-btn.selected{border-color:var(--primary-color, #667eea);background:#667eea1a}.option-btn.correct{border-color:#10b981;background:#10b9811a}.option-btn.incorrect{border-color:#ef4444;background:#ef44441a}.option-letter{width:28px;height:28px;border-radius:50%;background:var(--primary-color, #667eea);color:#fff;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:.78rem;flex-shrink:0}.option-btn.correct .option-letter{background:#10b981}.option-btn.incorrect .option-letter{background:#ef4444}.option-text{flex:1;font-size:.92rem;color:#333;line-height:1.4}[data-theme=dark] .option-text{color:#e5e7eb}.option-icon{font-size:1.5rem;font-weight:700;flex-shrink:0}.explanation{margin-top:1.5rem;padding:1.25rem;border-radius:12px;border-left:4px solid;animation:slideDown .4s ease}@keyframes slideDown{0%{opacity:0;max-height:0;padding-top:0;padding-bottom:0}to{opacity:1;max-height:500px;padding-top:1.25rem;padding-bottom:1.25rem}}.explanation.correct{background:#10b9811a;border-color:#10b981}.explanation.incorrect{background:#ef44441a;border-color:#ef4444}.explanation-header{font-weight:600;font-size:.92rem;margin-bottom:.5rem;color:#000}[data-theme=dark] .explanation-header{color:#f9fafb}.explanation-text{font-size:.85rem;color:#666;line-height:1.6}[data-theme=dark] .explanation-text{color:#9ca3af}.quiz-navigation{display:flex;justify-content:space-between;gap:1rem;margin-bottom:1.5rem}.nav-btn{display:flex;align-items:center;gap:.5rem;padding:.875rem 1.5rem;border:2px solid #e5e7eb;background:#fff;border-radius:10px;cursor:pointer;font-size:.92rem;font-weight:600;color:#333;transition:all .3s ease}[data-theme=dark] .nav-btn{background:#ffffff0d;border-color:#ffffff1a;color:#e5e7eb}.nav-btn svg{width:18px;height:18px}.nav-btn:hover:not(:disabled){border-color:var(--primary-color, #667eea);transform:translateY(-2px);box-shadow:0 4px 12px #0000001a}.nav-btn.primary{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-color:transparent}.nav-btn.primary:hover:not(:disabled){box-shadow:0 4px 16px #667eea66}.nav-btn:disabled{opacity:.4;cursor:not-allowed}.request-more-btn{background:transparent;border:2px dashed #e5e7eb;padding:.75rem 1.5rem;border-radius:10px;cursor:pointer;font-size:.9rem;font-weight:600;color:#667eea;transition:all .3s ease;margin-top:auto}[data-theme=dark] .request-more-btn{border-color:#fff3;color:#818cf8}.request-more-btn:hover{border-color:#667eea;background:#667eea0d}[data-theme=dark] .request-more-btn:hover{border-color:#818cf8;background:#818cf81a}.request-more-panel{margin-top:1rem;padding:1.5rem;background:#f9fafb;border-radius:12px;border:2px solid #e5e7eb;animation:slideDown .3s ease}[data-theme=dark] .request-more-panel{background:#ffffff0d;border-color:#ffffff1a}.request-more-panel h4{margin:0 0 1rem;font-size:1rem;color:#333}[data-theme=dark] .request-more-panel h4{color:#f9fafb}.more-options{display:flex;flex-wrap:wrap;gap:.75rem}.more-options button{padding:.625rem 1.25rem;background:#fff;border:2px solid #e5e7eb;border-radius:8px;cursor:pointer;font-size:.9rem;font-weight:500;color:#333;transition:all .2s ease}[data-theme=dark] .more-options button{background:#ffffff0d;border-color:#ffffff1a;color:#e5e7eb}.more-options button:hover{border-color:#667eea;background:#667eea1a;color:#667eea}[data-theme=dark] .more-options button:hover{border-color:#818cf8;background:#818cf826;color:#818cf8}.quiz-complete{justify-content:center;align-items:center;padding:3rem 2rem}.quiz-results{text-align:center;max-width:500px;width:100%}.results-header{margin-bottom:2rem}.trophy-icon{font-size:4rem;margin-bottom:1rem;animation:bounce 1s ease infinite;display:block;margin-top:2rem;margin-bottom:.5rem;font-size:2.5rem}@keyframes bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}.results-header h2{font-size:2rem;font-weight:700;margin:0;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.score-circle{position:relative;width:200px;height:200px;margin:1rem auto}.score-circle svg{width:100%;height:100%}.score-text{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center}.score-percentage{font-size:3rem;font-weight:700;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.score-label{font-size:1.1rem;color:#666;font-weight:500}[data-theme=dark] .score-label{color:#9ca3af}.performance-label{font-size:1.5rem;font-weight:600;color:#333;margin-bottom:2rem}[data-theme=dark] .performance-label{color:#f9fafb}.results-actions{display:flex;gap:1rem;justify-content:center;margin-bottom:1.5rem;flex-wrap:wrap;width:100%}.result-btn{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.25rem;min-width:120px;max-width:220px;flex:1 1 0;border:2px solid #e5e7eb;background:#fff;border-radius:12px;cursor:pointer;font-size:1rem;font-weight:600;color:#333;transition:all .3s ease}[data-theme=dark] .result-btn{background:#ffffff0d;border-color:#ffffff1a;color:#e5e7eb}.result-btn svg{width:22px;height:22px;min-width:22px;min-height:22px;max-width:22px;max-height:22px;display:inline-block;vertical-align:middle}.result-btn:hover{transform:translateY(-2px);box-shadow:0 6px 20px #0000001a}.result-btn.primary{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-color:transparent}.result-btn.primary:hover{box-shadow:0 6px 20px #667eea66}.quiz-empty{text-align:center;padding:3rem;color:#666}[data-theme=dark] .quiz-empty{color:#9ca3af}.quiz-empty h3{color:#333}[data-theme=dark] .quiz-empty h3{color:#f9fafb}.review-actions{display:flex;flex-direction:column;gap:1rem;align-items:stretch;width:100%;margin-bottom:1.5rem}.review-actions .result-btn{width:100%;min-width:0;max-width:100%;justify-content:center;margin:0}@media(prefers-color-scheme:dark){.quiz-interface{background:#ffffff0d}.question-card{background:#ffffff08;border-color:#ffffff1a}.quiz-score,.request-more-panel,.option-btn{background:#ffffff0d;border-color:#ffffff1a}.option-btn:hover:not(:disabled){background:#ffffff14}.nav-btn,.result-btn,.more-options button{background:#ffffff0d;border-color:#ffffff1a}}@media(max-width:768px){.quiz-interface{padding:1.5rem 1rem}.quiz-header{flex-direction:column;align-items:stretch}.question-card{padding:1.5rem}.question-text{font-size:1rem}.option-btn{padding:.875rem 1rem}.quiz-navigation{flex-direction:column}.nav-btn{width:100%;justify-content:center}.results-actions{flex-direction:column;width:100%;gap:.75rem}.result-btn{width:100%;min-width:0;max-width:100%;justify-content:center;flex:1 1 0}.more-options{flex-direction:column}.more-options button{width:100%}}.true-false-options{display:flex;gap:1rem;margin-top:1rem}.tf-btn{flex:1;display:flex;flex-direction:column;align-items:center;gap:.75rem;padding:1.5rem 1rem;background:#f9fafb;border:2px solid #e5e7eb;border-radius:12px;cursor:pointer;transition:all .3s ease}[data-theme=dark] .tf-btn{background:#ffffff0d;border-color:#ffffff1a}.tf-btn:hover:not(:disabled){border-color:#667eea;background:#fff;transform:translateY(-4px);box-shadow:0 4px 12px #0000001a}[data-theme=dark] .tf-btn:hover:not(:disabled){background:#ffffff14;border-color:#818cf8}.tf-btn:disabled{cursor:not-allowed}.tf-btn.selected{border-color:var(--primary-color, #667eea);background:#667eea1a}.tf-btn.correct{border-color:#10b981;background:#10b9811a}.tf-btn.incorrect{border-color:#ef4444;background:#ef44441a}.tf-icon{width:50px;height:50px;border-radius:50%;background:var(--primary-color, #667eea);color:#fff;display:flex;align-items:center;justify-content:center;font-size:1.6rem;font-weight:700;transition:all .3s ease}.tf-btn.correct .tf-icon{background:#10b981}.tf-btn.incorrect .tf-icon{background:#ef4444}.tf-text{font-size:.98rem;font-weight:600;color:#333}[data-theme=dark] .tf-text{color:#e5e7eb}.short-answer-container{margin-top:1rem;display:flex;flex-direction:column;gap:1rem}.short-answer-input{width:100%;padding:.9rem;border:2px solid #e5e7eb;border-radius:12px;font-size:.95rem;font-family:inherit;line-height:1.5;resize:vertical;background:#fff;color:#333;transition:all .3s ease}[data-theme=dark] .short-answer-input{background:#ffffff0d;border-color:#ffffff1a;color:#e5e7eb}.short-answer-input:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.short-answer-input:disabled{opacity:.6;cursor:not-allowed;background:#f9fafb}[data-theme=dark] .short-answer-input:disabled{background:#ffffff05}.fill-blank-container{margin-top:1rem;display:flex;flex-direction:column;gap:1rem}.fill-blank-input{width:100%;padding:.9rem 1.1rem;border:2px solid #e5e7eb;border-radius:12px;font-size:.95rem;font-family:inherit;background:#fff;color:#333;transition:all .3s ease}[data-theme=dark] .fill-blank-input{background:#ffffff0d;border-color:#ffffff1a;color:#e5e7eb}.fill-blank-input:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.fill-blank-input:disabled{opacity:.6;cursor:not-allowed;background:#f9fafb}[data-theme=dark] .fill-blank-input:disabled{background:#ffffff05}.submit-answer-btn{align-self:flex-start;padding:.75rem 1.75rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:10px;cursor:pointer;font-size:.95rem;font-weight:600;transition:all .3s ease}.submit-answer-btn:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 16px #667eea66}.submit-answer-btn:disabled{opacity:.4;cursor:not-allowed}@media(max-width:768px){.true-false-options{flex-direction:column}.tf-btn{flex-direction:row;justify-content:center}.tf-icon{width:50px;height:50px;font-size:1.5rem}}.btn-label{display:inline-block;min-width:140px;text-align:center}.quiz-configuration{display:flex;flex-direction:column;padding:1.5rem;width:100%;height:100%;min-height:500px;overflow-y:auto;background:linear-gradient(135deg,#f9fafbfa,#f3f4f6fa);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);animation:fadeInScale .3s cubic-bezier(.4,0,.2,1)}[data-theme=dark] .quiz-configuration{background:linear-gradient(135deg,#1a1a1afa,#141414fa)}.quiz-config-back{position:absolute;top:1rem;left:1rem;display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:transparent;border:1px solid #e5e7eb;border-radius:8px;cursor:pointer;font-size:.85rem;color:#374151;transition:all .2s ease}[data-theme=dark] .quiz-config-back{border-color:#ffffff1a;color:#d1d5db}.quiz-config-back:hover{background:#f3f4f6;border-color:#667eea;color:#667eea}[data-theme=dark] .quiz-config-back:hover{background:#ffffff0d;border-color:#818cf8;color:#818cf8}.quiz-config-header{text-align:center;margin:2.5rem 0 2rem}.quiz-config-header h2{font-size:1.4rem;font-weight:600;margin:0 0 .5rem;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.quiz-config-header p{font-size:.9rem;color:#6b7280;margin:0}[data-theme=dark] .quiz-config-header p{color:#9ca3af}.quiz-config-content{max-width:700px;width:100%;margin:0 auto}.config-section{margin-bottom:2.5rem}.config-section h3{font-size:.95rem;font-weight:600;margin:0 0 .5rem;color:#111827}[data-theme=dark] .config-section h3{color:#f9fafb}.section-description{font-size:.82rem;color:#6b7280;margin:0 0 1.25rem}[data-theme=dark] .section-description{color:#9ca3af}.question-type-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:1rem}.question-type-card{display:flex;flex-direction:column;align-items:center;padding:1.25rem 1rem;background:#fff;border:2px solid #e5e7eb;border-radius:12px;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);text-align:center}[data-theme=dark] .question-type-card{background:#282828f2;border-color:#ffffff1a}.question-type-card:hover{transform:translateY(-4px);box-shadow:0 8px 20px #0000001a;border-color:#667eea}[data-theme=dark] .question-type-card:hover{box-shadow:0 8px 20px #0000004d;border-color:#818cf8}.question-type-card.selected{background:linear-gradient(135deg,#667eea,#764ba2);border-color:#667eea;color:#fff}.question-type-card.selected:hover{border-color:#764ba2}.type-icon{display:flex;align-items:center;justify-content:center;margin-bottom:.75rem;color:#667eea;transition:all .3s ease}[data-theme=dark] .type-icon{color:#818cf8}.question-type-card.selected .type-icon{color:#fff}.type-icon svg{width:28px;height:28px}.type-label{font-size:.85rem;font-weight:600;margin-bottom:.25rem;color:#111827}[data-theme=dark] .type-label{color:#f9fafb}.type-description{font-size:.68rem;opacity:.8;margin-bottom:.5rem;color:#6b7280}[data-theme=dark] .type-description{color:#9ca3af}.type-limit{font-size:.62rem;opacity:.6;margin-top:.25rem;color:#6b7280}[data-theme=dark] .type-limit{color:#9ca3af}.question-type-card.selected .type-description,.question-type-card.selected .type-limit{opacity:.9}.question-count-selector{display:flex;flex-direction:column;gap:1rem}.count-input-wrapper{display:flex;align-items:center;justify-content:center;gap:1rem}.count-btn{width:40px;height:40px;display:flex;align-items:center;justify-content:center;background:#fff;border:2px solid #e5e7eb;border-radius:8px;cursor:pointer;transition:all .2s ease;color:#374151}[data-theme=dark] .count-btn{background:#282828f2;border-color:#ffffff1a;color:#d1d5db}.count-btn:hover:not(:disabled){background:#667eea;border-color:#667eea;color:#fff}.count-btn:disabled{opacity:.3;cursor:not-allowed}.count-input{width:72px;height:44px;font-size:1.15rem;font-weight:600;text-align:center;background:#fff;border:2px solid #e5e7eb;border-radius:12px;color:#111827;transition:all .2s ease}.count-input::-webkit-outer-spin-button,.count-input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.count-input[type=number]{-moz-appearance:textfield;appearance:textfield}[data-theme=dark] .count-input{background:#282828f2;border-color:#ffffff1a;color:#f9fafb}.count-input:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.count-slider{width:100%;height:6px;-webkit-appearance:none;appearance:none;background:#e5e7eb;border-radius:3px;outline:none;transition:all .2s ease}[data-theme=dark] .count-slider{background:#ffffff1a}.count-slider::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:20px;height:20px;border-radius:50%;background:linear-gradient(135deg,#667eea,#764ba2);cursor:pointer;transition:all .2s ease}.count-slider::-moz-range-thumb{width:20px;height:20px;border-radius:50%;background:linear-gradient(135deg,#667eea,#764ba2);cursor:pointer;border:none;transition:all .2s ease}.count-slider::-webkit-slider-thumb:hover{transform:scale(1.2);box-shadow:0 2px 8px #667eea66}.count-slider::-moz-range-thumb:hover{transform:scale(1.2);box-shadow:0 2px 8px #667eea66}.config-summary{display:flex;align-items:center;justify-content:space-between;padding:1.5rem;background:linear-gradient(135deg,#667eea1a,#764ba21a);border:2px solid #667eea;border-radius:12px;margin-top:2rem}[data-theme=dark] .config-summary{background:linear-gradient(135deg,#667eea26,#764ba226);border-color:#818cf8}.summary-info{display:flex;align-items:center;gap:1rem}.summary-icon{font-size:1.6rem}.summary-text{font-size:.9rem;color:#374151}[data-theme=dark] .summary-text{color:#d1d5db}.summary-text strong{color:#667eea;font-size:1.05rem}[data-theme=dark] .summary-text strong{color:#818cf8}.start-quiz-btn{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;background:linear-gradient(135deg,#667eea,#764ba2);border:none;border-radius:10px;color:#fff;font-size:.9rem;font-weight:600;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);box-shadow:0 4px 12px #667eea4d}.start-quiz-btn:hover{transform:translateY(-2px);box-shadow:0 6px 20px #667eea66}.start-quiz-btn:active{transform:translateY(0)}.review-actions{display:flex;flex-direction:column;gap:1rem;align-items:stretch}.review-actions button{width:100%;margin:0}@media(max-width:768px){.quiz-configuration{padding:1rem}.quiz-config-header{margin:3rem 0 1.5rem}.quiz-config-header h2{font-size:1.5rem}.question-type-grid{grid-template-columns:repeat(2,1fr)}.config-summary{flex-direction:column;gap:1rem}.start-quiz-btn{width:100%;justify-content:center}}@keyframes fadeInScale{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.quiz-limit-warning{background:#fff3cd;border:1px solid #ffeaa7;color:#856404;padding:1rem;border-radius:8px;margin:1rem 0;font-size:.9rem;text-align:center}[data-theme=dark] .quiz-limit-warning{background:#332e1d;border-color:#5c532a;color:#d4c78c}.quiz-configuration.limit-reached .config-section{opacity:.7;transition:opacity .3s ease}.quiz-configuration.limit-reached .question-type-card:not(.selected){background:var(--disabled-background);border-color:var(--border-color)}.quiz-configuration.limit-reached .question-type-card:not(.selected):hover{border-color:var(--border-color);transform:none;box-shadow:none}.quiz-configuration.limit-reached .count-btn:not(:disabled){background:var(--disabled-background);border-color:var(--border-color)}.quiz-configuration.limit-reached .count-input:not(:disabled){background:var(--disabled-background);border-color:var(--border-color)}.quiz-configuration.limit-reached .count-slider:not(:disabled){opacity:.5}.quiz-configuration.limit-reached .count-slider:not(:disabled)::-webkit-slider-thumb{background:var(--border-color)}.quiz-configuration.limit-reached .count-slider:not(:disabled)::-moz-range-thumb{background:var(--border-color)}.knowledge-notes-panel{display:flex;flex-direction:column;height:100%;background:#fffffff2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-left:1px solid rgba(0,0,0,.1);transition:all .3s ease;overflow:hidden}.knowledge-notes-panel.theme-dark{background:#202123f2;border-left-color:#ffffff1a}.knowledge-notes-panel.floating-layout{position:fixed;inset:60px 0 0 auto;width:350px;height:calc(100vh - 60px);z-index:10005;box-shadow:-4px 0 16px #0000001a;overflow:hidden}@media(max-width:1024px){.knowledge-notes-panel.floating-layout.knowledge-notes-visible{z-index:10010!important}}.knowledge-notes-panel.split-layout{width:350px;flex-shrink:0;height:100%;box-shadow:-2px 0 8px #0000001a;position:relative}@media(max-width:1024px){.knowledge-notes-panel.floating-layout{position:fixed;top:60px;right:-370px;left:auto;width:min(350px,85vw);height:calc(100vh - 60px);z-index:10010;transition:right .3s ease;box-shadow:-4px 0 24px #0000004d}.knowledge-notes-panel.floating-layout.knowledge-notes-visible{right:0;z-index:10010!important}.knowledge-notes-panel.split-layout{position:fixed;top:60px;right:-370px;left:auto;width:min(350px,85vw);height:calc(100vh - 60px);z-index:10010;transition:right .3s ease;box-shadow:-4px 0 24px #0000004d;flex-shrink:0}.knowledge-notes-panel.split-layout.knowledge-notes-visible{right:0;z-index:10010!important}}@media(max-width:768px){.knowledge-notes-panel.floating-layout{width:min(320px,90vw);right:-100vw}.knowledge-notes-panel.floating-layout.knowledge-notes-visible{right:0}.knowledge-notes-panel.split-layout{width:min(320px,90vw);right:-100vw}.knowledge-notes-panel.split-layout.knowledge-notes-visible{right:0}.main-content:not(.split-layout).has-knowledge-notes{padding-right:0}}.knowledge-notes-backdrop{display:none}@media(max-width:1024px){.knowledge-notes-backdrop{display:none}}.knowledge-notes-header{display:flex;align-items:center;justify-content:space-between;padding:16px;border-bottom:1px solid rgba(0,0,0,.1);position:relative;flex-shrink:0;z-index:10;background:inherit}.display-mode-toggle{transition:all .2s ease;color:#1a1a1a!important}.theme-dark .display-mode-toggle{color:#ececf1!important;border-color:#fff3!important}.display-mode-toggle:hover{background-color:#0000000d!important;border-color:#0000004d!important}.theme-dark .display-mode-toggle:hover{background-color:#ffffff1a!important;border-color:#ffffff4d!important;color:#fff!important}.knowledge-notes-close{display:flex!important;align-items:center;justify-content:center;width:32px;height:32px;border-radius:6px;transition:background .2s,color .2s;color:#1a1a1a!important}.theme-dark .knowledge-notes-close{color:#ececf1!important}.knowledge-notes-close:hover{background:#0000001a}.theme-dark .knowledge-notes-close:hover{background:#ffffff26;color:#fff!important}.theme-dark .knowledge-notes-header{border-bottom-color:#ffffff1a}.knowledge-notes-header h3{margin:0;font-size:18px;font-weight:600;color:#1a1a1a}.theme-dark .knowledge-notes-header h3{color:#ececf1}.notes-count{background:#0000001a;padding:4px 8px;border-radius:12px;font-size:12px;font-weight:600;color:#1a1a1a}.theme-dark .notes-count{background:#ffffff1a;color:#ececf1}.notes-count-button{position:relative;background:#0000001a;padding:4px 8px;border-radius:12px;font-size:12px;font-weight:600;color:#1a1a1a;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:6px;transition:all .2s ease;min-width:32px;overflow:hidden}.theme-dark .notes-count-button{background:#ffffff1a;color:#ececf1}.notes-count-button:disabled{opacity:.5;cursor:not-allowed}.notes-count-button:hover:not(:disabled){background:#ff00001a}.theme-dark .notes-count-button:hover:not(:disabled){background:#f003}.notes-count-text{display:inline-block;transition:opacity .2s ease,transform .2s ease}.notes-count-clear-icon{position:absolute;opacity:0;visibility:hidden;transition:opacity .2s ease,visibility .2s ease;flex-shrink:0;color:#f44}.notes-count-button:hover:not(:disabled) .notes-count-text{opacity:0;transform:scale(.8)}.notes-count-button:hover:not(:disabled) .notes-count-clear-icon{opacity:1;visibility:visible}.theme-dark .notes-count-button:hover:not(:disabled) .notes-count-clear-icon{color:#f44}.theme-light .notes-count-button:hover:not(:disabled) .notes-count-clear-icon{color:#f44}.confirm-dialog-overlay{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:10030;padding:20px;animation:fadeIn .2s ease-out}.confirm-dialog{background:#fff;border-radius:12px;max-width:400px;width:100%;box-shadow:0 20px 60px #0000004d;animation:modalSlideIn .2s ease-out;overflow:hidden}@keyframes modalSlideIn{0%{opacity:0;transform:translateY(-20px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.theme-dark .confirm-dialog{background:#2a2a2a;color:#ececf1}.confirm-dialog-header{padding:20px 24px;border-bottom:1px solid rgba(0,0,0,.1)}.theme-dark .confirm-dialog-header{border-bottom-color:#ffffff1a}.confirm-dialog-header h3{margin:0;font-size:18px;font-weight:600;color:#1a1a1a}.theme-dark .confirm-dialog-header h3{color:#ececf1}.confirm-dialog-content{padding:24px}.confirm-dialog-content p{margin:0 0 12px;font-size:14px;line-height:1.5;color:#333}.theme-dark .confirm-dialog-content p{color:#ececf1}.confirm-dialog-content p:last-of-type{margin-bottom:0}.confirm-dialog-content strong{font-weight:600;color:#1a1a1a}.theme-dark .confirm-dialog-content strong{color:#ececf1}.confirm-dialog-warning{color:#f44!important;font-weight:500;font-size:13px}.confirm-dialog-actions{display:flex;gap:12px;padding:20px 24px;border-top:1px solid rgba(0,0,0,.1);justify-content:flex-end}.theme-dark .confirm-dialog-actions{border-top-color:#ffffff1a}.confirm-dialog-button{padding:10px 20px;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease;border:1px solid}.confirm-dialog-button-cancel{background:transparent;border-color:#0003;color:#333}.theme-dark .confirm-dialog-button-cancel{border-color:#fff3;color:#ececf1}.confirm-dialog-button-cancel:hover{background:#0000000d;border-color:#0000004d}.theme-dark .confirm-dialog-button-cancel:hover{background:#ffffff1a;border-color:#ffffff4d}.confirm-dialog-button-confirm{background:#f44;border-color:#f44;color:#fff}.confirm-dialog-button-confirm:hover{background:#c00;border-color:#c00;transform:translateY(-1px);box-shadow:0 4px 12px #ff44444d}.confirm-dialog-button-confirm:active{transform:translateY(0)}.knowledge-notes-list{flex:1;padding:0;position:relative;min-height:100%;will-change:transform}.knowledge-notes-list.following-mode{overflow:visible}.knowledge-notes-list.stack-mode{overflow-y:auto;padding:8px 0 60px}.knowledge-notes-list.stack-mode::-webkit-scrollbar{width:8px}.knowledge-notes-list.stack-mode::-webkit-scrollbar-track{background:#0000000d;border-radius:4px}.knowledge-notes-list.stack-mode::-webkit-scrollbar-thumb{background:#0003;border-radius:4px}.knowledge-notes-list.stack-mode::-webkit-scrollbar-thumb:hover{background:#0000004d}.theme-dark .knowledge-notes-list.stack-mode::-webkit-scrollbar-track{background:#ffffff0d}.theme-dark .knowledge-notes-list.stack-mode::-webkit-scrollbar-thumb{background:#fff3}.theme-dark .knowledge-notes-list.stack-mode::-webkit-scrollbar-thumb:hover{background:#ffffff4d}.empty-notes{padding:40px 20px;text-align:center;color:#666;font-size:14px}.theme-dark .empty-notes{color:#999}.knowledge-note-item{background:#00000008;backdrop-filter:blur(20px) saturate(180%);-webkit-backdrop-filter:blur(20px) saturate(180%);border:1px solid rgba(0,0,0,.1);border-radius:8px;padding:12px;margin-bottom:12px;cursor:pointer;transition:all .2s}.knowledge-note-item.note-stacked{border-radius:10px;will-change:transform}.knowledge-note-item.note-stacked:not(.note-front){opacity:.95}.knowledge-notes-list.following-mode .knowledge-note-item.note-front{box-shadow:0 4px 16px #00000026;border-color:#0003}.theme-dark .knowledge-notes-list.following-mode .knowledge-note-item.note-front{box-shadow:0 4px 16px #0000004d;border-color:#fff3}.theme-dark .knowledge-note-item{background:#ffffff0d;backdrop-filter:blur(20px) saturate(180%);-webkit-backdrop-filter:blur(20px) saturate(180%);border-color:#ffffff1a}.knowledge-note-item:hover{background:#0000000d;backdrop-filter:blur(25px) saturate(180%);-webkit-backdrop-filter:blur(25px) saturate(180%);border-color:#00000026;box-shadow:0 2px 8px #0000001a}.theme-dark .knowledge-note-item:hover{background:#ffffff14;backdrop-filter:blur(25px) saturate(180%);-webkit-backdrop-filter:blur(25px) saturate(180%);border-color:#ffffff26}.note-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px}.note-meta{display:flex;flex-wrap:wrap;gap:6px;align-items:center}.note-page-badge,.note-text-badge{padding:2px 8px;border-radius:4px;font-size:11px;font-weight:600;background:#4285f4;color:#fff}.note-text-badge{background:#10a37f}.note-date{font-size:11px;color:#666}.theme-dark .note-date{color:#999}.note-delete-button{width:20px;height:20px;border-radius:50%;background:#f44;color:#fff;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:16px;font-weight:700;flex-shrink:0;transition:all .2s}.note-delete-button:hover{background:#c00;transform:scale(1.1)}.note-linked-text{font-size:12px;color:#4285f4;font-style:italic;margin-bottom:8px;padding:6px;background:#4285f41a;border-radius:4px;border-left:3px solid #4285f4}.theme-dark .note-linked-text{color:#7baaf7;background:#4285f426}.note-content-wrapper{position:relative;display:flex;flex-direction:column;width:100%}.note-content{font-size:13px;line-height:1.5;color:#1a1a1a;white-space:pre-wrap;word-wrap:break-word;cursor:default;-webkit-user-select:text;user-select:text}.note-content.collapsed{display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}.note-content.expanded{display:block;overflow:visible}.theme-dark .note-content{color:#ececf1}.note-content-ellipsis{color:#999;font-weight:700}.theme-dark .note-content-ellipsis{color:#666}.note-expand-button{margin-top:8px;padding:6px 12px;background:transparent;border:1px solid rgba(0,0,0,.2);border-radius:4px;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:6px;color:#666;transition:all .2s;width:100%;font-size:12px;z-index:20;position:relative;pointer-events:auto;flex-shrink:0}.theme-dark .note-expand-button{border-color:#fff3;color:#999}.note-expand-button:hover{background:#0000000d;border-color:#0000004d;color:#333}.theme-dark .note-expand-button:hover{background:#ffffff1a;border-color:#ffffff4d;color:#ececf1}.pdf-history-overlay{position:fixed;inset:0;background:#00000080;z-index:10030;animation:fadeIn .2s ease-out}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.pdf-history-panel{position:fixed;top:0;left:0;width:350px;max-width:90vw;height:100vh;background:#fff;box-shadow:2px 0 10px #0000001a;z-index:10031;display:flex;flex-direction:column;animation:slideIn .3s ease-out;overflow:hidden}[data-theme=dark] .pdf-history-panel{background:#1a1a1a;color:#ececf1}@keyframes slideIn{0%{transform:translate(-100%)}to{transform:translate(0)}}.pdf-history-header{display:flex;align-items:center;justify-content:space-between;padding:20px 24px;border-bottom:1px solid #e0e0e0;flex-shrink:0}[data-theme=dark] .pdf-history-header{border-bottom-color:#333}.pdf-history-header h2{margin:0;font-size:20px;font-weight:600}.pdf-history-refresh-indicator{display:flex;align-items:center;color:#666;animation:spin 1s linear infinite}[data-theme=dark] .pdf-history-refresh-indicator{color:#999}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.pdf-history-close{width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:transparent;border:none;border-radius:6px;cursor:pointer;color:inherit;transition:background .2s;padding:0}.pdf-history-close:hover{background:#0000000d}[data-theme=dark] .pdf-history-close:hover{background:#ffffff1a}.pdf-history-content{flex:1;overflow-y:auto;padding:16px}.pdf-history-search{position:relative;margin-bottom:12px}.pdf-history-search input{width:100%;padding:8px 32px 8px 10px;border-radius:6px;border:1px solid #dcdcdc;font-size:14px;background:#fafafa;transition:border .2s,box-shadow .2s}[data-theme=dark] .pdf-history-search input{background:#1f1f1f;border-color:#333;color:#ececf1}.pdf-history-search input:focus{outline:none;border-color:#4285f4;box-shadow:0 0 0 2px #4285f433}.pdf-history-search-clear{position:absolute;top:50%;right:8px;transform:translateY(-50%);border:none;background:transparent;font-size:16px;cursor:pointer;color:#888;line-height:1}[data-theme=dark] .pdf-history-search-clear{color:#bbb}.pdf-history-search-clear:hover{color:#333}[data-theme=dark] .pdf-history-search-clear:hover{color:#fff}.pdf-history-search-reset{margin-top:12px;padding:6px 14px;border-radius:6px;border:none;background:#f0f0f0;cursor:pointer;font-size:13px}[data-theme=dark] .pdf-history-search-reset{background:#2a2a2a;color:#ddd}.pdf-history-loading,.pdf-history-error,.pdf-history-empty{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px 20px;text-align:center;color:#666}[data-theme=dark] .pdf-history-loading,[data-theme=dark] .pdf-history-error,[data-theme=dark] .pdf-history-empty{color:#999}.pdf-history-empty-hint{font-size:14px;margin-top:8px;opacity:.7}.pdf-history-error p{margin:0 0 16px}.pdf-history-authorize-btn{padding:8px 16px;background:#4285f4;color:#fff;border:none;border-radius:6px;cursor:pointer;font-size:14px;transition:background .2s}.pdf-history-authorize-btn:hover{background:#357ae8}.authorize-drive-button{padding:8px 16px;background:#4285f4;color:#fff;border:none;border-radius:6px;cursor:pointer;font-size:14px;transition:background .2s;margin-top:12px}.authorize-drive-button:hover{background:#357ae8}.pdf-history-list{display:flex;flex-direction:column;gap:8px}.pdf-history-item{display:flex;align-items:flex-start;gap:12px;padding:12px;border-radius:8px;cursor:pointer;transition:background .2s;border:1px solid transparent}.pdf-history-item:hover{background:#f5f5f5;border-color:#e0e0e0}[data-theme=dark] .pdf-history-item:hover{background:#2a2a2a;border-color:#444}.pdf-history-item-icon{flex-shrink:0;width:40px;height:40px;display:flex;align-items:center;justify-content:center;background:#f0f0f0;border-radius:6px;color:#666}[data-theme=dark] .pdf-history-item-icon{background:#2a2a2a;color:#999}.pdf-history-item-content{flex:1;min-width:0}.pdf-history-item-title{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:6px}.pdf-history-display-name{font-weight:600;font-size:14px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex:1}.pdf-history-delete{border:none;background:transparent;padding:4px;border-radius:6px;cursor:pointer;color:inherit;display:flex;align-items:center;justify-content:center;transition:background .2s,color .2s;flex-shrink:0}.pdf-history-delete:disabled{cursor:not-allowed;opacity:.6}.pdf-history-delete:not(:disabled):hover{background:#0000000f}[data-theme=dark] .pdf-history-delete:not(:disabled):hover{background:#ffffff1a}.pdf-history-delete-confirm{border:none;background:#d32f2f26;color:#d32f2f;padding:4px 8px;border-radius:6px;cursor:pointer;font-size:12px;font-weight:500;transition:background .2s,color .2s;flex-shrink:0;display:inline-flex;align-items:center;gap:6px}[data-theme=dark] .pdf-history-delete-confirm{background:#e5737333;color:#ff8a80}.pdf-history-delete-confirm:hover{background:#d32f2f40}[data-theme=dark] .pdf-history-delete-confirm:hover{background:#e573734d}.pdf-history-delete-confirm:disabled{cursor:not-allowed;opacity:.7}.delete-spinner{width:14px;height:14px;border:2px solid rgba(66,133,244,.2);border-top-color:#4285f4;border-radius:50%;animation:spin .8s linear infinite}.pdf-history-title-placeholder{display:flex;align-items:center;height:18px}.loading-dots{display:flex;align-items:center;gap:2px}.loading-dots div{width:4px;height:4px;background:#999;border-radius:50%;animation:pulse 1.4s ease-in-out infinite both}.loading-dots div:nth-child(1){animation-delay:-.32s}.loading-dots div:nth-child(2){animation-delay:-.16s}@keyframes pulse{0%,80%,to{transform:scale(0);opacity:.5}40%{transform:scale(1);opacity:1}}.pdf-history-item-original{display:flex;align-items:center;gap:6px;font-size:12px;color:#666;margin-bottom:4px;overflow:hidden}[data-theme=dark] .pdf-history-item-original{color:#aaa}.pdf-history-original-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex:1}.pdf-history-divider{color:#bbb;flex-shrink:0}.pdf-history-item-meta{font-size:12px;color:#666;display:flex;gap:8px;margin-bottom:4px}[data-theme=dark] .pdf-history-item-meta{color:#999}.pdf-history-item-badges{display:flex;gap:6px;margin-top:6px}.pdf-history-badge{font-size:11px;padding:2px 6px;background:#e3f2fd;color:#1976d2;border-radius:4px;font-weight:500}[data-theme=dark] .pdf-history-badge{background:#1e3a5f;color:#64b5f6}.pdf-history-unavailable{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px 20px;text-align:center;color:#666}[data-theme=dark] .pdf-history-unavailable{color:#999}.pdf-history-unavailable h3{margin:0 0 12px;font-weight:600}.pdf-history-unavailable p{margin:0;font-size:14px;line-height:1.5}.drive-sync-backdrop{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;z-index:10010;display:flex;align-items:center;justify-content:center}.drive-sync-modal{background-color:#fff;color:#333;padding:24px;border-radius:12px;max-width:400px;width:90%;box-shadow:0 4px 20px #0003;text-align:center}.drive-sync-modal.dark{background-color:#2a2a2a;color:#ececf1;box-shadow:0 4px 20px #00000080}.drive-sync-modal h3{margin-top:0;margin-bottom:16px}.drive-sync-modal p{margin-bottom:24px;line-height:1.5;opacity:.8}.drive-sync-buttons{display:flex;gap:12px;justify-content:center}.drive-sync-buttons button{padding:10px 20px;border-radius:6px;cursor:pointer;font-size:14px;transition:all .2s}.button-cancel{border:1px solid #ddd;background:transparent;color:inherit}.drive-sync-modal.dark .button-cancel{border-color:#555}.button-cancel:hover{background-color:#0000000d}.drive-sync-modal.dark .button-cancel:hover{background-color:#ffffff1a}.button-confirm{border:none;background:#4285f4;color:#fff;font-weight:500}.button-confirm:hover{background:#357ae8}.toast-container{position:fixed;bottom:24px;left:50%;transform:translate(-50%);z-index:10020;pointer-events:none}.toast{background-color:#323232;color:#fff;padding:12px 24px;border-radius:8px;box-shadow:0 4px 12px #0000004d;font-size:14px;line-height:1.4;display:flex;align-items:center;gap:10px;pointer-events:auto;animation:toast-slide-up .3s ease-out}.toast.toast-exit{animation:toast-fade-out .3s ease-out forwards}.toast-icon{width:18px;height:18px;flex-shrink:0}.toast-icon.info{color:#4caf50}@keyframes toast-slide-up{0%{transform:translateY(100px);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes toast-fade-out{0%{opacity:1}to{opacity:0;transform:translateY(20px)}}.resizable-divider{position:relative;width:8px;cursor:ew-resize;flex-shrink:0;z-index:10;transition:all .2s ease;order:2}.resizable-divider:before{content:"";position:absolute;left:3px;top:0;bottom:0;width:2px;background:linear-gradient(to bottom,#0000000d,#00000026 10%,#00000040,#0000004d,#00000040,#00000026 90%,#0000000d);box-shadow:-2px 0 4px #0000001a,-1px 0 2px #00000026;transition:all .2s ease}[data-theme=dark] .resizable-divider:before{background:linear-gradient(to bottom,#ffffff0d,#ffffff1a 10%,#ffffff26,#fff3,#ffffff26,#ffffff1a 90%,#ffffff0d);box-shadow:-2px 0 4px #0000004d,-1px 0 2px #0006}.resizable-divider.hovering:before,.resizable-divider.dragging:before{width:3px;left:2.5px;background:linear-gradient(to bottom,color-mix(in srgb,var(--model-color) 20%,transparent),color-mix(in srgb,var(--model-color) 40%,transparent) 10%,color-mix(in srgb,var(--model-color) 60%,transparent),color-mix(in srgb,var(--model-color) 80%,transparent),color-mix(in srgb,var(--model-color) 60%,transparent),color-mix(in srgb,var(--model-color) 40%,transparent) 90%,color-mix(in srgb,var(--model-color) 20%,transparent));box-shadow:0 0 8px color-mix(in srgb,var(--model-color) 30%,transparent),-2px 0 6px color-mix(in srgb,var(--model-color) 20%,transparent),2px 0 6px color-mix(in srgb,var(--model-color) 20%,transparent)}.resizable-divider.dragging:before{width:4px;left:2px;background:linear-gradient(to bottom,color-mix(in srgb,var(--model-color) 40%,transparent) 0%,color-mix(in srgb,var(--model-color) 60%,transparent) 10%,color-mix(in srgb,var(--model-color) 80%,transparent) 30%,var(--model-color) 50%,color-mix(in srgb,var(--model-color) 80%,transparent) 70%,color-mix(in srgb,var(--model-color) 60%,transparent) 90%,color-mix(in srgb,var(--model-color) 40%,transparent) 100%);box-shadow:0 0 12px color-mix(in srgb,var(--model-color) 50%,transparent),-3px 0 8px color-mix(in srgb,var(--model-color) 30%,transparent),3px 0 8px color-mix(in srgb,var(--model-color) 30%,transparent)}.divider-handle{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);display:flex;flex-direction:column;gap:4px;padding:8px 0;opacity:0;transition:opacity .2s ease}.resizable-divider.hovering .divider-handle,.resizable-divider.dragging .divider-handle{opacity:1}.divider-grip{width:3px;height:3px;background-color:var(--model-color);border-radius:50%;box-shadow:0 0 4px color-mix(in srgb,var(--model-color) 50%,transparent)}[data-theme=dark] .divider-grip{background-color:color-mix(in srgb,var(--model-color) 80%,white)}.resizable-divider.dragging{width:12px}.app{display:flex;flex-direction:column;height:100vh;width:100vw;position:relative}.interaction-mode-overlay{position:fixed;inset:60px 0 0;background:#000000bf;backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);z-index:9999;pointer-events:none;animation:fadeInOverlay .3s ease-in}@keyframes fadeInOverlay{0%{opacity:0}to{opacity:1}}.main-content{flex:1;display:flex;flex-direction:column;overflow:hidden;position:relative;transition:flex-direction .4s cubic-bezier(.4,0,.2,1),padding-right .4s cubic-bezier(.4,0,.2,1);background-color:#f5f5f5}[data-theme=dark] .main-content{background-color:#1a1a1a}.main-content:not(.split-layout).has-knowledge-notes,.main-content:not(.split-layout):has(.knowledge-notes-panel.floating-layout){padding-right:350px;transition:padding-right .4s cubic-bezier(.4,0,.2,1)}@media(max-width:1024px){.main-content:not(.split-layout).has-knowledge-notes,.main-content:not(.split-layout):has(.knowledge-notes-panel.floating-layout){padding-right:0}}.main-content.split-layout{flex-direction:row}.main-content.split-layout>:first-child{flex:1;min-width:0;order:1}.main-content.split-layout{position:relative}.main-content.split-layout .knowledge-notes-panel.split-layout{order:2}.main-content.split-layout .chat-container.split-chat{order:3}.chat-container{transition:all .4s cubic-bezier(.4,0,.2,1),opacity .3s ease,transform .4s cubic-bezier(.4,0,.2,1),width .4s cubic-bezier(.4,0,.2,1),left .4s cubic-bezier(.4,0,.2,1),bottom .4s cubic-bezier(.4,0,.2,1);position:relative;z-index:5}.chat-container.floating-chat{position:fixed;bottom:90px;left:50%;transform:translate(-50%);max-width:720px;width:720px;margin:0;z-index:10010;pointer-events:none;transition:opacity .3s cubic-bezier(.4,0,.2,1),transform .4s cubic-bezier(.4,0,.2,1),visibility .3s ease,left .4s cubic-bezier(.4,0,.2,1),width .4s cubic-bezier(.4,0,.2,1),bottom .4s cubic-bezier(.4,0,.2,1);overflow:visible!important}.main-content:not(.split-layout).has-knowledge-notes .chat-container.floating-chat,.main-content:not(.split-layout):has(.knowledge-notes-panel.floating-layout) .chat-container.floating-chat{left:calc((100vw - 370px)/2);transform:translate(-50%)}.chat-container.floating-chat>*{pointer-events:auto}.chat-container.split-chat{position:relative;width:var(--chat-width, 500px);min-width:var(--chat-min-width, 350px);max-width:var(--chat-max-width, 800px);flex-shrink:0;display:flex;flex-direction:column;z-index:1;pointer-events:auto;transition:width .4s cubic-bezier(.4,0,.2,1)}@media(max-width:1024px){.chat-container.floating-chat.knowledge-notes-open{opacity:0;visibility:hidden;pointer-events:none;transform:translateY(20px)}.chat-container.split-chat.knowledge-notes-open{opacity:0;visibility:hidden;pointer-events:none;width:0;min-width:0;max-width:0;overflow:hidden;transition:opacity .3s ease,visibility .3s ease,width .3s ease}}@media(max-width:768px){.chat-container.floating-chat{bottom:70px;left:50%;right:auto;width:calc(100vw - 12px);max-width:calc(100vw - 12px);transform:translate(-50%)}.main-content:not(.split-layout).has-knowledge-notes .chat-container.floating-chat,.main-content:not(.split-layout):has(.knowledge-notes-panel.floating-layout) .chat-container.floating-chat{left:50%}.main-content.split-layout{flex-direction:column}.main-content.split-layout>:first-child{flex:1 1 50%;min-height:0}.chat-container.split-chat{width:100%;max-width:100%;flex:1 1 50%;min-height:0}.chat-container.split-chat:before{inset:0 0 auto;width:100%;height:2px;background:linear-gradient(to right,#0000000d,#00000026 10%,#00000040,#0000004d,#00000040,#00000026 90%,#0000000d);box-shadow:0 -2px 4px #0000001a,0 -1px 2px #00000026,inset 0 1px 2px #ffffff1a;border-bottom:1px solid rgba(0,0,0,.1)}[data-theme=dark] .chat-container.split-chat:before{background:linear-gradient(to right,#ffffff0d,#ffffff26 10%,#ffffff40,#ffffff4d,#ffffff40,#ffffff26 90%,#ffffff0d);box-shadow:0 -2px 6px #0006,0 -1px 3px #00000080,inset 0 1px 2px #ffffff1a;border-bottom:1px solid rgba(255,255,255,.15)}}.privacy-consent-modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;z-index:2000;background:linear-gradient(#00000073,#00000080);-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px)}:root{--modal-bg: #ffffff;--modal-text: #111217;--modal-muted: #5f6b76;--modal-accent: #27ae60;--modal-danger: #e74c3c;--modal-link: #2563eb;--modal-shadow: 0 10px 30px rgba(15, 23, 42, .12);--modal-border: rgba(15,23,42,.06);--scrollbar-bg: #f1f5f9;--scrollbar-thumb: #cbd5e1;--scrollbar-thumb-hover: #94a3b8}[data-theme=dark]{--modal-bg: #0f1720;--modal-text: #e6eef6;--modal-muted: #9aa6b2;--modal-accent: #34d399;--modal-danger: #fb6b6b;--modal-link: #60a5fa;--modal-shadow: 0 10px 30px rgba(2,6,23,.6);--modal-border: rgba(255,255,255,.06);--scrollbar-bg: #0b1220;--scrollbar-thumb: #263240;--scrollbar-thumb-hover: #374956}.modal-content{background-color:var(--modal-bg);color:var(--modal-text);width:min(760px,92%);border-radius:12px;box-shadow:var(--modal-shadow);padding:26px 28px;text-align:center;transform:translateY(-6px);transition:transform .2s ease,opacity .2s ease;border:1px solid var(--modal-border)}.modal-content h2{margin:0 0 10px;font-size:1.5rem;font-weight:700;letter-spacing:-.02em}.modal-body{margin-top:8px;color:var(--modal-muted);font-size:.98rem;line-height:1.5}.modal-body ul{margin:12px 0 8px;padding-left:1.1rem;text-align:left}.modal-body ul li{margin:6px 0}.modal-note{margin-top:10px;color:var(--modal-muted)}.modal-footer{margin-top:20px;display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap}.modal-actions{display:flex;gap:12px}.btn{cursor:pointer;border:none;padding:10px 18px;border-radius:8px;font-weight:600;font-size:.95rem;transition:transform .12s ease,box-shadow .12s ease,opacity .12s ease}.btn:active{transform:translateY(1px)}.agree-button{background:var(--modal-accent);color:#fff;box-shadow:0 6px 18px #27ae602e}.disagree-button{background:transparent;color:var(--modal-text);border:1px solid var(--modal-border);background-color:transparent}.modal-links{display:flex;gap:14px;align-items:center;justify-content:center}.modal-links a{color:var(--modal-link);text-decoration:none;font-weight:600}.modal-links a:hover{text-decoration:underline}@media(max-width:520px){.modal-content{padding:18px}.modal-body ul{padding-left:.9rem}.btn{padding:9px 14px}}.detail-content{display:flex;flex-direction:column;gap:12px}.detail-header{display:flex;align-items:center;gap:12px}.back-button{background:transparent;border:none;color:var(--modal-link);font-weight:700;cursor:pointer;padding:6px 8px}.detail-title{margin:0;font-size:1.125rem}.detail-body{max-height:48vh;overflow:auto;text-align:left;color:var(--modal-muted);padding-right:6px}.detail-body::-webkit-scrollbar{width:10px}.detail-body::-webkit-scrollbar-track{background:var(--scrollbar-bg);border-radius:8px}.detail-body::-webkit-scrollbar-thumb{background:var(--scrollbar-thumb);border-radius:8px}.detail-body::-webkit-scrollbar-thumb:hover{background:var(--scrollbar-thumb-hover)}.detail-body{scrollbar-width:thin;scrollbar-color:var(--scrollbar-thumb) var(--scrollbar-bg)}.detail-body p{margin:0 0 10px}.detail-actions{display:flex;justify-content:flex-end;gap:10px;margin-top:6px}.link-button{background:transparent;border:none;color:var(--modal-link);font-weight:700;cursor:pointer}.detail-body h4{margin:10px 0 8px;font-size:1rem;color:var(--modal-text);font-weight:700}.detail-body p{margin:0 0 12px;line-height:1.6;color:var(--modal-muted)}.detail-body ul{margin:6px 0 12px 1.1rem;padding-left:.4rem}.detail-body li{margin:6px 0}.detail-body a{color:var(--modal-link);text-decoration:underline}.detail-body code{background:#0000000a;padding:2px 6px;border-radius:6px;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Roboto Mono,Courier New,monospace}.app-dialog-backdrop{position:fixed;inset:0;background:#00000073;display:flex;align-items:center;justify-content:center;z-index:3000}.app-dialog{width:min(480px,92%);background:var(--modal-bg, #fff);color:var(--modal-text, #111);border-radius:10px;padding:18px;box-shadow:0 8px 30px #00000040;border:1px solid var(--modal-border, rgba(0,0,0,.06))}.app-dialog-title{font-weight:700;margin-bottom:8px;font-size:1.05rem}.app-dialog-message{color:var(--modal-muted, #556);margin-bottom:14px}.app-dialog-actions{display:flex;justify-content:flex-end}.app-dialog-ok{background:var(--modal-accent, #34d399);color:#fff;border:none;padding:8px 14px;border-radius:8px;cursor:pointer;font-weight:600}*{margin:0;padding:0;box-sizing:border-box}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;height:100vh;overflow:hidden;margin:0;padding:0}#root{height:100vh;width:100vw;position:relative}
